{"remainingRequest":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\core\\col.js","dependencies":[{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\core\\col.js","mtime":1615364198219},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615364186494},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1615364186192},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1615364189991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9cdTU0MzRcdTVFRkFcdTY2MEUvRGVza3RvcC9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1VzZXJzL1x1NTQzNFx1NUVGQVx1NjYwRS9EZXNrdG9wL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBoZWxwZXIgZnJvbSAnLi9oZWxwZXInOwoKdmFyIENvbHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIENvbHMoX3JlZikgewogICAgdmFyIGxlbiA9IF9yZWYubGVuLAogICAgICAgIHdpZHRoID0gX3JlZi53aWR0aCwKICAgICAgICBpbmRleFdpZHRoID0gX3JlZi5pbmRleFdpZHRoLAogICAgICAgIG1pbldpZHRoID0gX3JlZi5taW5XaWR0aDsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29scyk7CgogICAgdGhpcy5fID0ge307CiAgICB0aGlzLmxlbiA9IGxlbjsKICAgIHRoaXMud2lkdGggPSB3aWR0aDsKICAgIHRoaXMuaW5kZXhXaWR0aCA9IGluZGV4V2lkdGg7CiAgICB0aGlzLm1pbldpZHRoID0gbWluV2lkdGg7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ29scywgW3sKICAgIGtleTogInNldERhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGEoZCkgewogICAgICBpZiAoZC5sZW4pIHsKICAgICAgICB0aGlzLmxlbiA9IGQubGVuOwogICAgICAgIGRlbGV0ZSBkLmxlbjsKICAgICAgfQoKICAgICAgdGhpcy5fID0gZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgbGVuID0gdGhpcy5sZW47CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsKICAgICAgICBsZW46IGxlbgogICAgICB9LCB0aGlzLl8pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFdpZHRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRXaWR0aChpKSB7CiAgICAgIGlmICh0aGlzLmlzSGlkZShpKSkgcmV0dXJuIDA7CiAgICAgIHZhciBjb2wgPSB0aGlzLl9baV07CgogICAgICBpZiAoY29sICYmIGNvbC53aWR0aCkgewogICAgICAgIHJldHVybiBjb2wud2lkdGg7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLndpZHRoOwogICAgfQogIH0sIHsKICAgIGtleTogImdldE9yTmV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPck5ldyhjaSkgewogICAgICB0aGlzLl9bY2ldID0gdGhpcy5fW2NpXSB8fCB7fTsKICAgICAgcmV0dXJuIHRoaXMuX1tjaV07CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0V2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFdpZHRoKGNpLCB3aWR0aCkgewogICAgICB2YXIgY29sID0gdGhpcy5nZXRPck5ldyhjaSk7CiAgICAgIGNvbC53aWR0aCA9IHdpZHRoOwogICAgfQogIH0sIHsKICAgIGtleTogInVuaGlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdW5oaWRlKGlkeCkgewogICAgICB2YXIgaW5kZXggPSBpZHg7CgogICAgICB3aGlsZSAoaW5kZXggPiAwKSB7CiAgICAgICAgaW5kZXggLT0gMTsKCiAgICAgICAgaWYgKHRoaXMuaXNIaWRlKGluZGV4KSkgewogICAgICAgICAgdGhpcy5zZXRIaWRlKGluZGV4LCBmYWxzZSk7CiAgICAgICAgfSBlbHNlIGJyZWFrOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNIaWRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0hpZGUoY2kpIHsKICAgICAgdmFyIGNvbCA9IHRoaXMuX1tjaV07CiAgICAgIHJldHVybiBjb2wgJiYgY29sLmhpZGU7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0SGlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SGlkZShjaSwgdikgewogICAgICB2YXIgY29sID0gdGhpcy5nZXRPck5ldyhjaSk7CiAgICAgIGlmICh2ID09PSB0cnVlKSBjb2wuaGlkZSA9IHRydWU7ZWxzZSBkZWxldGUgY29sLmhpZGU7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0U3R5bGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFN0eWxlKGNpLCBzdHlsZSkgewogICAgICB2YXIgY29sID0gdGhpcy5nZXRPck5ldyhjaSk7CiAgICAgIGNvbC5zdHlsZSA9IHN0eWxlOwogICAgfQogIH0sIHsKICAgIGtleTogInN1bVdpZHRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdW1XaWR0aChtaW4sIG1heCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIGhlbHBlci5yYW5nZVN1bShtaW4sIG1heCwgZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gX3RoaXMuZ2V0V2lkdGgoaSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInRvdGFsV2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvdGFsV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLnN1bVdpZHRoKDAsIHRoaXMubGVuKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDb2xzOwp9KCk7CgpleHBvcnQgZGVmYXVsdCB7fTsKZXhwb3J0IHsgQ29scyB9Ow=="},{"version":3,"sources":["C:/Users/吴建明/Desktop/VisualizationExcle_Demo/src/components/x-spreadsheet/core/col.js"],"names":["helper","Cols","len","width","indexWidth","minWidth","_","d","Object","assign","i","isHide","col","ci","getOrNew","idx","index","setHide","hide","v","style","min","max","rangeSum","getWidth","sumWidth"],"mappings":"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","sourcesContent":["import helper from './helper';\r\n\r\nclass Cols {\r\n  constructor({\r\n    len, width, indexWidth, minWidth,\r\n  }) {\r\n    this._ = {};\r\n    this.len = len;\r\n    this.width = width;\r\n    this.indexWidth = indexWidth;\r\n    this.minWidth = minWidth;\r\n  }\r\n\r\n  setData(d) {\r\n    if (d.len) {\r\n      this.len = d.len;\r\n      delete d.len;\r\n    }\r\n    this._ = d;\r\n  }\r\n\r\n  getData() {\r\n    const { len } = this;\r\n    return Object.assign({ len }, this._);\r\n  }\r\n\r\n  getWidth(i) {\r\n    if (this.isHide(i)) return 0;\r\n    const col = this._[i];\r\n    if (col && col.width) {\r\n      return col.width;\r\n    }\r\n    return this.width;\r\n  }\r\n\r\n  getOrNew(ci) {\r\n    this._[ci] = this._[ci] || {};\r\n    return this._[ci];\r\n  }\r\n\r\n  setWidth(ci, width) {\r\n    const col = this.getOrNew(ci);\r\n    col.width = width;\r\n  }\r\n\r\n  unhide(idx) {\r\n    let index = idx;\r\n    while (index > 0) {\r\n      index -= 1;\r\n      if (this.isHide(index)) {\r\n        this.setHide(index, false);\r\n      } else break;\r\n    }\r\n  }\r\n\r\n  isHide(ci) {\r\n    const col = this._[ci];\r\n    return col && col.hide;\r\n  }\r\n\r\n  setHide(ci, v) {\r\n    const col = this.getOrNew(ci);\r\n    if (v === true) col.hide = true;\r\n    else delete col.hide;\r\n  }\r\n\r\n  setStyle(ci, style) {\r\n    const col = this.getOrNew(ci);\r\n    col.style = style;\r\n  }\r\n\r\n  sumWidth(min, max) {\r\n    return helper.rangeSum(min, max, i => this.getWidth(i));\r\n  }\r\n\r\n  totalWidth() {\r\n    return this.sumWidth(0, this.len);\r\n  }\r\n}\r\n\r\nexport default {};\r\nexport {\r\n  Cols,\r\n};\r\n"]}]}