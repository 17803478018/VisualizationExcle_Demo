{"remainingRequest":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\selector.js","dependencies":[{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\selector.js","mtime":1614915429341},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596536485880},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1606828682259},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1603719226989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IHsgaCB9IGZyb20gJy4vZWxlbWVudCc7CmltcG9ydCB7IGNzc1ByZWZpeCB9IGZyb20gJy4uL2NvbmZpZyc7CmltcG9ydCB7IENlbGxSYW5nZSB9IGZyb20gJy4uL2NvcmUvY2VsbF9yYW5nZSc7CnZhciBzZWxlY3RvckhlaWdodEJvcmRlcldpZHRoID0gMiAqIDIgLSAxOwp2YXIgc3RhcnRaSW5kZXggPSAxMDsKCnZhciBTZWxlY3RvckVsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNlbGVjdG9yRWxlbWVudCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHVzZUhpZGVJbnB1dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdG9yRWxlbWVudCk7CgogICAgdGhpcy51c2VIaWRlSW5wdXQgPSB1c2VIaWRlSW5wdXQ7CgogICAgdGhpcy5pbnB1dENoYW5nZSA9IGZ1bmN0aW9uICgpIHt9OwoKICAgIHRoaXMuY29ybmVyRWwgPSBoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLXNlbGVjdG9yLWNvcm5lciIpKTsKICAgIHRoaXMuYXJlYUVsID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1zZWxlY3Rvci1hcmVhIikpLmNoaWxkKHRoaXMuY29ybmVyRWwpLmhpZGUoKTsKICAgIHRoaXMuY2xpcGJvYXJkRWwgPSBoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLXNlbGVjdG9yLWNsaXBib2FyZCIpKS5oaWRlKCk7CiAgICB0aGlzLmF1dG9maWxsRWwgPSBoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLXNlbGVjdG9yLWF1dG9maWxsIikpLmhpZGUoKTsKICAgIHRoaXMuZWwgPSBoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLXNlbGVjdG9yIikpLmNzcygnei1pbmRleCcsICIiLmNvbmNhdChzdGFydFpJbmRleCkpLmNoaWxkcmVuKHRoaXMuYXJlYUVsLCB0aGlzLmNsaXBib2FyZEVsLCB0aGlzLmF1dG9maWxsRWwpLmhpZGUoKTsKCiAgICBpZiAodXNlSGlkZUlucHV0KSB7CiAgICAgIHRoaXMuaGlkZUlucHV0ID0gaCgnaW5wdXQnLCAnJykub24oJ2NvbXBvc2l0aW9uZW5kJywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIF90aGlzLmlucHV0Q2hhbmdlKGV2dC50YXJnZXQudmFsdWUpOwogICAgICB9KTsKICAgICAgdGhpcy5lbC5jaGlsZCh0aGlzLmhpZGVJbnB1dERpdiA9IGgoJ2RpdicsICdoaWRlLWlucHV0JykuY2hpbGQodGhpcy5oaWRlSW5wdXQpKTsKICAgICAgdGhpcy5lbC5jaGlsZCh0aGlzLmhpZGVJbnB1dERpdiA9IGgoJ2RpdicsICdoaWRlLWlucHV0JykuY2hpbGQodGhpcy5oaWRlSW5wdXQpKTsKICAgIH0KCiAgICBzdGFydFpJbmRleCArPSAxOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNlbGVjdG9yRWxlbWVudCwgW3sKICAgIGtleTogInNldE9mZnNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T2Zmc2V0KHYpIHsKICAgICAgdGhpcy5lbC5vZmZzZXQodikuc2hvdygpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoaWRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICB0aGlzLmVsLmhpZGUoKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0QXJlYU9mZnNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXJlYU9mZnNldCh2KSB7CiAgICAgIHZhciBsZWZ0ID0gdi5sZWZ0LAogICAgICAgICAgdG9wID0gdi50b3AsCiAgICAgICAgICB3aWR0aCA9IHYud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSB2LmhlaWdodDsKICAgICAgdmFyIG9mID0gewogICAgICAgIHdpZHRoOiB3aWR0aCAtIHNlbGVjdG9ySGVpZ2h0Qm9yZGVyV2lkdGggKyAwLjgsCiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSBzZWxlY3RvckhlaWdodEJvcmRlcldpZHRoICsgMC44LAogICAgICAgIGxlZnQ6IGxlZnQgLSAwLjgsCiAgICAgICAgdG9wOiB0b3AgLSAwLjgKICAgICAgfTsKICAgICAgdGhpcy5hcmVhRWwub2Zmc2V0KG9mKS5zaG93KCk7CgogICAgICBpZiAodGhpcy51c2VIaWRlSW5wdXQpIHsKICAgICAgICB0aGlzLmhpZGVJbnB1dERpdi5vZmZzZXQob2YpOwogICAgICAgIHRoaXMuaGlkZUlucHV0LnZhbCgnJykuZm9jdXMoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInNldENsaXBib2FyZE9mZnNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2xpcGJvYXJkT2Zmc2V0KHYpIHsKICAgICAgdmFyIGxlZnQgPSB2LmxlZnQsCiAgICAgICAgICB0b3AgPSB2LnRvcCwKICAgICAgICAgIHdpZHRoID0gdi53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IHYuaGVpZ2h0OwogICAgICB0aGlzLmNsaXBib2FyZEVsLm9mZnNldCh7CiAgICAgICAgbGVmdDogbGVmdCwKICAgICAgICB0b3A6IHRvcCwKICAgICAgICB3aWR0aDogd2lkdGggLSA1LAogICAgICAgIGhlaWdodDogaGVpZ2h0IC0gNQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG93QXV0b2ZpbGwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dBdXRvZmlsbCh2KSB7CiAgICAgIHZhciBsZWZ0ID0gdi5sZWZ0LAogICAgICAgICAgdG9wID0gdi50b3AsCiAgICAgICAgICB3aWR0aCA9IHYud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSB2LmhlaWdodDsKICAgICAgdGhpcy5hdXRvZmlsbEVsLm9mZnNldCh7CiAgICAgICAgd2lkdGg6IHdpZHRoIC0gc2VsZWN0b3JIZWlnaHRCb3JkZXJXaWR0aCwKICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIHNlbGVjdG9ySGVpZ2h0Qm9yZGVyV2lkdGgsCiAgICAgICAgbGVmdDogbGVmdCwKICAgICAgICB0b3A6IHRvcAogICAgICB9KS5zaG93KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGlkZUF1dG9maWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlQXV0b2ZpbGwoKSB7CiAgICAgIHRoaXMuYXV0b2ZpbGxFbC5oaWRlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd0NsaXBib2FyZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0NsaXBib2FyZCgpIHsKICAgICAgdGhpcy5jbGlwYm9hcmRFbC5zaG93KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGlkZUNsaXBib2FyZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUNsaXBib2FyZCgpIHsKICAgICAgdGhpcy5jbGlwYm9hcmRFbC5oaWRlKCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2VsZWN0b3JFbGVtZW50Owp9KCk7CgpmdW5jdGlvbiBjYWxCUkFyZWFPZmZzZXQob2Zmc2V0KSB7CiAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7CiAgdmFyIGxlZnQgPSBvZmZzZXQubGVmdCwKICAgICAgdG9wID0gb2Zmc2V0LnRvcCwKICAgICAgd2lkdGggPSBvZmZzZXQud2lkdGgsCiAgICAgIGhlaWdodCA9IG9mZnNldC5oZWlnaHQsCiAgICAgIHNjcm9sbCA9IG9mZnNldC5zY3JvbGwsCiAgICAgIGwgPSBvZmZzZXQubCwKICAgICAgdCA9IG9mZnNldC50OwogIHZhciBmdHdpZHRoID0gZGF0YS5mcmVlemVUb3RhbFdpZHRoKCk7CiAgdmFyIGZ0aGVpZ2h0ID0gZGF0YS5mcmVlemVUb3RhbEhlaWdodCgpOwogIHZhciBsZWZ0MCA9IGxlZnQgLSBmdHdpZHRoOwogIGlmIChmdHdpZHRoID4gbCkgbGVmdDAgLT0gc2Nyb2xsLng7CiAgdmFyIHRvcDAgPSB0b3AgLSBmdGhlaWdodDsKICBpZiAoZnRoZWlnaHQgPiB0KSB0b3AwIC09IHNjcm9sbC55OwogIHJldHVybiB7CiAgICBsZWZ0OiBsZWZ0MCwKICAgIHRvcDogdG9wMCwKICAgIHdpZHRoOiB3aWR0aCwKICAgIGhlaWdodDogaGVpZ2h0CiAgfTsKfQoKZnVuY3Rpb24gY2FsVEFyZWFPZmZzZXQob2Zmc2V0KSB7CiAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7CiAgdmFyIGxlZnQgPSBvZmZzZXQubGVmdCwKICAgICAgd2lkdGggPSBvZmZzZXQud2lkdGgsCiAgICAgIGhlaWdodCA9IG9mZnNldC5oZWlnaHQsCiAgICAgIGwgPSBvZmZzZXQubCwKICAgICAgdCA9IG9mZnNldC50LAogICAgICBzY3JvbGwgPSBvZmZzZXQuc2Nyb2xsOwogIHZhciBmdHdpZHRoID0gZGF0YS5mcmVlemVUb3RhbFdpZHRoKCk7CiAgdmFyIGxlZnQwID0gbGVmdCAtIGZ0d2lkdGg7CiAgaWYgKGZ0d2lkdGggPiBsKSBsZWZ0MCAtPSBzY3JvbGwueDsKICByZXR1cm4gewogICAgbGVmdDogbGVmdDAsCiAgICB0b3A6IHQsCiAgICB3aWR0aDogd2lkdGgsCiAgICBoZWlnaHQ6IGhlaWdodAogIH07Cn0KCmZ1bmN0aW9uIGNhbExBcmVhT2Zmc2V0KG9mZnNldCkgewogIHZhciBkYXRhID0gdGhpcy5kYXRhOwogIHZhciB0b3AgPSBvZmZzZXQudG9wLAogICAgICB3aWR0aCA9IG9mZnNldC53aWR0aCwKICAgICAgaGVpZ2h0ID0gb2Zmc2V0LmhlaWdodCwKICAgICAgbCA9IG9mZnNldC5sLAogICAgICB0ID0gb2Zmc2V0LnQsCiAgICAgIHNjcm9sbCA9IG9mZnNldC5zY3JvbGw7CiAgdmFyIGZ0aGVpZ2h0ID0gZGF0YS5mcmVlemVUb3RhbEhlaWdodCgpOwogIHZhciB0b3AwID0gdG9wIC0gZnRoZWlnaHQ7IC8vIGNvbnNvbGUubG9nKCdmdGhlaWdodDonLCBmdGhlaWdodCwgJywgdDonLCB0KTsKCiAgaWYgKGZ0aGVpZ2h0ID4gdCkgdG9wMCAtPSBzY3JvbGwueTsKICByZXR1cm4gewogICAgbGVmdDogbCwKICAgIHRvcDogdG9wMCwKICAgIHdpZHRoOiB3aWR0aCwKICAgIGhlaWdodDogaGVpZ2h0CiAgfTsKfQoKZnVuY3Rpb24gc2V0QlJBcmVhT2Zmc2V0KG9mZnNldCkgewogIHZhciBiciA9IHRoaXMuYnI7CiAgYnIuc2V0QXJlYU9mZnNldChjYWxCUkFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpKTsKfQoKZnVuY3Rpb24gc2V0VExBcmVhT2Zmc2V0KG9mZnNldCkgewogIHZhciB0bCA9IHRoaXMudGw7CiAgdGwuc2V0QXJlYU9mZnNldChvZmZzZXQpOwp9CgpmdW5jdGlvbiBzZXRUQXJlYU9mZnNldChvZmZzZXQpIHsKICB2YXIgdCA9IHRoaXMudDsKICB0LnNldEFyZWFPZmZzZXQoY2FsVEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpKTsKfQoKZnVuY3Rpb24gc2V0TEFyZWFPZmZzZXQob2Zmc2V0KSB7CiAgdmFyIGwgPSB0aGlzLmw7CiAgbC5zZXRBcmVhT2Zmc2V0KGNhbExBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KSk7Cn0KCmZ1bmN0aW9uIHNldExDbGlwYm9hcmRPZmZzZXQob2Zmc2V0KSB7CiAgdmFyIGwgPSB0aGlzLmw7CiAgbC5zZXRDbGlwYm9hcmRPZmZzZXQoY2FsTEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpKTsKfQoKZnVuY3Rpb24gc2V0QlJDbGlwYm9hcmRPZmZzZXQob2Zmc2V0KSB7CiAgdmFyIGJyID0gdGhpcy5icjsKICBici5zZXRDbGlwYm9hcmRPZmZzZXQoY2FsQlJBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KSk7Cn0KCmZ1bmN0aW9uIHNldFRMQ2xpcGJvYXJkT2Zmc2V0KG9mZnNldCkgewogIHZhciB0bCA9IHRoaXMudGw7CiAgdGwuc2V0Q2xpcGJvYXJkT2Zmc2V0KG9mZnNldCk7Cn0KCmZ1bmN0aW9uIHNldFRDbGlwYm9hcmRPZmZzZXQob2Zmc2V0KSB7CiAgdmFyIHQgPSB0aGlzLnQ7CiAgdC5zZXRDbGlwYm9hcmRPZmZzZXQoY2FsVEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpKTsKfQoKZnVuY3Rpb24gc2V0QWxsQXJlYU9mZnNldChvZmZzZXQpIHsKICBzZXRCUkFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogIHNldFRMQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7CiAgc2V0VEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogIHNldExBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KTsKfQoKZnVuY3Rpb24gc2V0QWxsQ2xpcGJvYXJkT2Zmc2V0KG9mZnNldCkgewogIHNldEJSQ2xpcGJvYXJkT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KTsKICBzZXRUTENsaXBib2FyZE9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7CiAgc2V0VENsaXBib2FyZE9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7CiAgc2V0TENsaXBib2FyZE9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7Cn0KCnZhciBTZWxlY3RvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gU2VsZWN0b3IoZGF0YSkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdG9yKTsKCiAgICB0aGlzLmlucHV0Q2hhbmdlID0gZnVuY3Rpb24gKCkge307CgogICAgdGhpcy5kYXRhID0gZGF0YTsKICAgIHRoaXMuYnIgPSBuZXcgU2VsZWN0b3JFbGVtZW50KHRydWUpOwogICAgdGhpcy50ID0gbmV3IFNlbGVjdG9yRWxlbWVudCgpOwogICAgdGhpcy5sID0gbmV3IFNlbGVjdG9yRWxlbWVudCgpOwogICAgdGhpcy50bCA9IG5ldyBTZWxlY3RvckVsZW1lbnQoKTsKCiAgICB0aGlzLmJyLmlucHV0Q2hhbmdlID0gZnVuY3Rpb24gKHYpIHsKICAgICAgX3RoaXMyLmlucHV0Q2hhbmdlKHYpOwogICAgfTsKCiAgICB0aGlzLmJyLmVsLnNob3coKTsKICAgIHRoaXMub2Zmc2V0ID0gbnVsbDsKICAgIHRoaXMuYXJlYU9mZnNldCA9IG51bGw7CiAgICB0aGlzLmluZGV4ZXMgPSBudWxsOwogICAgdGhpcy5yYW5nZSA9IG51bGw7CiAgICB0aGlzLmFyYW5nZSA9IG51bGw7CiAgICB0aGlzLmVsID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1zZWxlY3RvcnMiKSkuY2hpbGRyZW4odGhpcy50bC5lbCwgdGhpcy50LmVsLCB0aGlzLmwuZWwsIHRoaXMuYnIuZWwpLmhpZGUoKTsgLy8gZm9yIHBlcmZvcm1hbmNlCgogICAgdGhpcy5sYXN0cmkgPSAtMTsKICAgIHRoaXMubGFzdGNpID0gLTE7CiAgICBzdGFydFpJbmRleCArPSAxOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNlbGVjdG9yLCBbewogICAga2V5OiAicmVzZXREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldERhdGEoZGF0YSkgewogICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICB0aGlzLnJhbmdlID0gZGF0YS5zZWxlY3Rvci5yYW5nZTsKICAgICAgdGhpcy5yZXNldEFyZWFPZmZzZXQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoaWRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICB0aGlzLmVsLmhpZGUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNldE9mZnNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRPZmZzZXQoKSB7CiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhLAogICAgICAgICAgdGwgPSB0aGlzLnRsLAogICAgICAgICAgdCA9IHRoaXMudCwKICAgICAgICAgIGwgPSB0aGlzLmwsCiAgICAgICAgICBiciA9IHRoaXMuYnI7CiAgICAgIHZhciBmcmVlemVIZWlnaHQgPSBkYXRhLmZyZWV6ZVRvdGFsSGVpZ2h0KCk7CiAgICAgIHZhciBmcmVlemVXaWR0aCA9IGRhdGEuZnJlZXplVG90YWxXaWR0aCgpOwoKICAgICAgaWYgKGZyZWV6ZUhlaWdodCA+IDAgfHwgZnJlZXplV2lkdGggPiAwKSB7CiAgICAgICAgdGwuc2V0T2Zmc2V0KHsKICAgICAgICAgIHdpZHRoOiBmcmVlemVXaWR0aCwKICAgICAgICAgIGhlaWdodDogZnJlZXplSGVpZ2h0CiAgICAgICAgfSk7CiAgICAgICAgdC5zZXRPZmZzZXQoewogICAgICAgICAgbGVmdDogZnJlZXplV2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IGZyZWV6ZUhlaWdodAogICAgICAgIH0pOwogICAgICAgIGwuc2V0T2Zmc2V0KHsKICAgICAgICAgIHRvcDogZnJlZXplSGVpZ2h0LAogICAgICAgICAgd2lkdGg6IGZyZWV6ZVdpZHRoCiAgICAgICAgfSk7CiAgICAgICAgYnIuc2V0T2Zmc2V0KHsKICAgICAgICAgIGxlZnQ6IGZyZWV6ZVdpZHRoLAogICAgICAgICAgdG9wOiBmcmVlemVIZWlnaHQKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0bC5oaWRlKCk7CiAgICAgICAgdC5oaWRlKCk7CiAgICAgICAgbC5oaWRlKCk7CiAgICAgICAgYnIuc2V0T2Zmc2V0KHsKICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICB0b3A6IDAKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlc2V0QXJlYU9mZnNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRBcmVhT2Zmc2V0KCkgewogICAgICAvLyBjb25zb2xlLmxvZygnb2Zmc2V0OicsIG9mZnNldCk7CiAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmRhdGEuZ2V0U2VsZWN0ZWRSZWN0KCk7CiAgICAgIHZhciBjb2Zmc2V0ID0gdGhpcy5kYXRhLmdldENsaXBib2FyZFJlY3QoKTsKICAgICAgc2V0QWxsQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7CiAgICAgIHNldEFsbENsaXBib2FyZE9mZnNldC5jYWxsKHRoaXMsIGNvZmZzZXQpOwogICAgICB0aGlzLnJlc2V0T2Zmc2V0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRCUlRBcmVhT2Zmc2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldEJSVEFyZWFPZmZzZXQoKSB7CiAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmRhdGEuZ2V0U2VsZWN0ZWRSZWN0KCk7CiAgICAgIHZhciBjb2Zmc2V0ID0gdGhpcy5kYXRhLmdldENsaXBib2FyZFJlY3QoKTsKICAgICAgc2V0QlJBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KTsKICAgICAgc2V0VEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogICAgICBzZXRCUkNsaXBib2FyZE9mZnNldC5jYWxsKHRoaXMsIGNvZmZzZXQpOwogICAgICBzZXRUQ2xpcGJvYXJkT2Zmc2V0LmNhbGwodGhpcywgY29mZnNldCk7CiAgICAgIHRoaXMucmVzZXRPZmZzZXQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNldEJSTEFyZWFPZmZzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0QlJMQXJlYU9mZnNldCgpIHsKICAgICAgdmFyIG9mZnNldCA9IHRoaXMuZGF0YS5nZXRTZWxlY3RlZFJlY3QoKTsKICAgICAgdmFyIGNvZmZzZXQgPSB0aGlzLmRhdGEuZ2V0Q2xpcGJvYXJkUmVjdCgpOwogICAgICBzZXRCUkFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogICAgICBzZXRMQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7CiAgICAgIHNldEJSQ2xpcGJvYXJkT2Zmc2V0LmNhbGwodGhpcywgY29mZnNldCk7CiAgICAgIHNldExDbGlwYm9hcmRPZmZzZXQuY2FsbCh0aGlzLCBjb2Zmc2V0KTsKICAgICAgdGhpcy5yZXNldE9mZnNldCgpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KHJpLCBjaSkgewogICAgICB2YXIgaW5kZXhlc1VwZGF0ZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7CiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhOwogICAgICB2YXIgY2VsbFJhbmdlID0gZGF0YS5jYWxTZWxlY3RlZFJhbmdlQnlTdGFydChyaSwgY2kpOwogICAgICB2YXIgc3JpID0gY2VsbFJhbmdlLnNyaSwKICAgICAgICAgIHNjaSA9IGNlbGxSYW5nZS5zY2k7CgogICAgICBpZiAoaW5kZXhlc1VwZGF0ZWQpIHsKICAgICAgICB2YXIgY3JpID0gcmksCiAgICAgICAgICAgIGNjaSA9IGNpOwogICAgICAgIGlmIChyaSA8IDApIGNyaSA9IDA7CiAgICAgICAgaWYgKGNpIDwgMCkgY2NpID0gMDsKICAgICAgICBkYXRhLnNlbGVjdG9yLnNldEluZGV4ZXMoY3JpLCBjY2kpOwogICAgICAgIHRoaXMuaW5kZXhlcyA9IFtjcmksIGNjaV07CiAgICAgIH0KCiAgICAgIHRoaXMubW92ZUluZGV4ZXMgPSBbc3JpLCBzY2ldOyAvLyB0aGlzLnNJbmRleGVzID0gc0luZGV4ZXM7CiAgICAgIC8vIHRoaXMuZUluZGV4ZXMgPSBlSW5kZXhlczsKCiAgICAgIHRoaXMucmFuZ2UgPSBjZWxsUmFuZ2U7CiAgICAgIHRoaXMucmVzZXRBcmVhT2Zmc2V0KCk7CiAgICAgIHRoaXMuZWwuc2hvdygpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEVuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RW5kKHJpLCBjaSkgewogICAgICB2YXIgbW92aW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0cnVlOwogICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YSwKICAgICAgICAgIGxhc3RyaSA9IHRoaXMubGFzdHJpLAogICAgICAgICAgbGFzdGNpID0gdGhpcy5sYXN0Y2k7CgogICAgICBpZiAobW92aW5nKSB7CiAgICAgICAgaWYgKHJpID09PSBsYXN0cmkgJiYgY2kgPT09IGxhc3RjaSkgcmV0dXJuOwogICAgICAgIHRoaXMubGFzdHJpID0gcmk7CiAgICAgICAgdGhpcy5sYXN0Y2kgPSBjaTsKICAgICAgfQoKICAgICAgdGhpcy5yYW5nZSA9IGRhdGEuY2FsU2VsZWN0ZWRSYW5nZUJ5RW5kKHJpLCBjaSk7CiAgICAgIHNldEFsbEFyZWFPZmZzZXQuY2FsbCh0aGlzLCB0aGlzLmRhdGEuZ2V0U2VsZWN0ZWRSZWN0KCkpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlc2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgLy8gY29uc29sZS5sb2coJzo6OjonLCB0aGlzLmRhdGEpOwogICAgICB2YXIgX3RoaXMkZGF0YSRzZWxlY3RvciRyID0gdGhpcy5kYXRhLnNlbGVjdG9yLnJhbmdlLAogICAgICAgICAgZXJpID0gX3RoaXMkZGF0YSRzZWxlY3RvciRyLmVyaSwKICAgICAgICAgIGVjaSA9IF90aGlzJGRhdGEkc2VsZWN0b3Ikci5lY2k7CiAgICAgIHRoaXMuc2V0RW5kKGVyaSwgZWNpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG93QXV0b2ZpbGwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dBdXRvZmlsbChyaSwgY2kpIHsKICAgICAgaWYgKHJpID09PSAtMSAmJiBjaSA9PT0gLTEpIHJldHVybjsgLy8gY29uc29sZS5sb2coJ3JpOicsIHJpLCAnLCBjaTonLCBjaSk7CiAgICAgIC8vIGNvbnN0IFtzcmksIHNjaV0gPSB0aGlzLnNJbmRleGVzOwogICAgICAvLyBjb25zdCBbZXJpLCBlY2ldID0gdGhpcy5lSW5kZXhlczsKCiAgICAgIHZhciBfdGhpcyRyYW5nZSA9IHRoaXMucmFuZ2UsCiAgICAgICAgICBzcmkgPSBfdGhpcyRyYW5nZS5zcmksCiAgICAgICAgICBzY2kgPSBfdGhpcyRyYW5nZS5zY2ksCiAgICAgICAgICBlcmkgPSBfdGhpcyRyYW5nZS5lcmksCiAgICAgICAgICBlY2kgPSBfdGhpcyRyYW5nZS5lY2k7CiAgICAgIHZhciBucmkgPSByaSwKICAgICAgICAgIG5jaSA9IGNpOyAvLyBjb25zdCBybiA9IGVyaSAtIHNyaTsKICAgICAgLy8gY29uc3QgY24gPSBlY2kgLSBzY2k7CgogICAgICB2YXIgc3JuID0gc3JpIC0gcmk7CiAgICAgIHZhciBzY24gPSBzY2kgLSBjaTsKICAgICAgdmFyIGVybiA9IGVyaSAtIHJpOwogICAgICB2YXIgZWNuID0gZWNpIC0gY2k7CgogICAgICBpZiAoc2NuID4gMCkgewogICAgICAgIC8vIGxlZnQKICAgICAgICAvLyBjb25zb2xlLmxvZygnbGVmdCcpOwogICAgICAgIHRoaXMuYXJhbmdlID0gbmV3IENlbGxSYW5nZShzcmksIG5jaSwgZXJpLCBzY2kgLSAxKTsgLy8gdGhpcy5zYUluZGV4ZXMgPSBbc3JpLCBuY2ldOwogICAgICAgIC8vIHRoaXMuZWFJbmRleGVzID0gW2VyaSwgc2NpIC0gMV07CiAgICAgICAgLy8gZGF0YS5jYWxSYW5nZUluZGV4ZXMyKAogICAgICB9IGVsc2UgaWYgKHNybiA+IDApIHsKICAgICAgICAvLyB0b3AKICAgICAgICAvLyBjb25zb2xlLmxvZygndG9wJyk7CiAgICAgICAgLy8gbnJpID0gc3JpOwogICAgICAgIHRoaXMuYXJhbmdlID0gbmV3IENlbGxSYW5nZShucmksIHNjaSwgc3JpIC0gMSwgZWNpKTsgLy8gdGhpcy5zYUluZGV4ZXMgPSBbbnJpLCBzY2ldOwogICAgICAgIC8vIHRoaXMuZWFJbmRleGVzID0gW3NyaSAtIDEsIGVjaV07CiAgICAgIH0gZWxzZSBpZiAoZWNuIDwgMCkgewogICAgICAgIC8vIHJpZ2h0CiAgICAgICAgLy8gY29uc29sZS5sb2coJ3JpZ2h0Jyk7CiAgICAgICAgLy8gbmNpID0gZWNpOwogICAgICAgIHRoaXMuYXJhbmdlID0gbmV3IENlbGxSYW5nZShzcmksIGVjaSArIDEsIGVyaSwgbmNpKTsgLy8gdGhpcy5zYUluZGV4ZXMgPSBbc3JpLCBlY2kgKyAxXTsKICAgICAgICAvLyB0aGlzLmVhSW5kZXhlcyA9IFtlcmksIG5jaV07CiAgICAgIH0gZWxzZSBpZiAoZXJuIDwgMCkgewogICAgICAgIC8vIGJvdHRvbQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdib3R0b20nKTsKICAgICAgICAvLyBucmkgPSBlcmk7CiAgICAgICAgdGhpcy5hcmFuZ2UgPSBuZXcgQ2VsbFJhbmdlKGVyaSArIDEsIHNjaSwgbnJpLCBlY2kpOyAvLyB0aGlzLnNhSW5kZXhlcyA9IFtlcmkgKyAxLCBzY2ldOwogICAgICAgIC8vIHRoaXMuZWFJbmRleGVzID0gW25yaSwgZWNpXTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygnZWxzZTonKTsKICAgICAgICB0aGlzLmFyYW5nZSA9IG51bGw7IC8vIHRoaXMuc2FJbmRleGVzID0gbnVsbDsKICAgICAgICAvLyB0aGlzLmVhSW5kZXhlcyA9IG51bGw7CgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYXJhbmdlICE9PSBudWxsKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zYUluZGV4ZXMsICc6JywgdGhpcy5lYUluZGV4ZXMpOwogICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmRhdGEuZ2V0UmVjdCh0aGlzLmFyYW5nZSk7CiAgICAgICAgb2Zmc2V0LndpZHRoICs9IDI7CiAgICAgICAgb2Zmc2V0LmhlaWdodCArPSAyOwogICAgICAgIHZhciBiciA9IHRoaXMuYnIsCiAgICAgICAgICAgIGwgPSB0aGlzLmwsCiAgICAgICAgICAgIHQgPSB0aGlzLnQsCiAgICAgICAgICAgIHRsID0gdGhpcy50bDsKICAgICAgICBici5zaG93QXV0b2ZpbGwoY2FsQlJBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KSk7CiAgICAgICAgbC5zaG93QXV0b2ZpbGwoY2FsTEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpKTsKICAgICAgICB0LnNob3dBdXRvZmlsbChjYWxUQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCkpOwogICAgICAgIHRsLnNob3dBdXRvZmlsbChvZmZzZXQpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaGlkZUF1dG9maWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlQXV0b2ZpbGwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgWydicicsICdsJywgJ3QnLCAndGwnXS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkgewogICAgICAgIF90aGlzM1twcm9wZXJ0eV0uaGlkZUF1dG9maWxsKCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNob3dDbGlwYm9hcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dDbGlwYm9hcmQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGNvZmZzZXQgPSB0aGlzLmRhdGEuZ2V0Q2xpcGJvYXJkUmVjdCgpOwogICAgICBzZXRBbGxDbGlwYm9hcmRPZmZzZXQuY2FsbCh0aGlzLCBjb2Zmc2V0KTsKICAgICAgWydicicsICdsJywgJ3QnLCAndGwnXS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkgewogICAgICAgIF90aGlzNFtwcm9wZXJ0eV0uc2hvd0NsaXBib2FyZCgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoaWRlQ2xpcGJvYXJkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlQ2xpcGJvYXJkKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIFsnYnInLCAnbCcsICd0JywgJ3RsJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHsKICAgICAgICBfdGhpczVbcHJvcGVydHldLmhpZGVDbGlwYm9hcmQoKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2VsZWN0b3I7Cn0oKTsKCmV4cG9ydCB7IFNlbGVjdG9yIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["D:/代码/del_demo/VisualizationExcle_Demo/src/components/x-spreadsheet/component/selector.js"],"names":["h","cssPrefix","CellRange","selectorHeightBorderWidth","startZIndex","SelectorElement","useHideInput","inputChange","cornerEl","areaEl","child","hide","clipboardEl","autofillEl","el","css","children","hideInput","on","evt","target","value","hideInputDiv","v","offset","show","left","top","width","height","of","val","focus","calBRAreaOffset","data","scroll","l","t","ftwidth","freezeTotalWidth","ftheight","freezeTotalHeight","left0","x","top0","y","calTAreaOffset","calLAreaOffset","setBRAreaOffset","br","setAreaOffset","call","setTLAreaOffset","tl","setTAreaOffset","setLAreaOffset","setLClipboardOffset","setClipboardOffset","setBRClipboardOffset","setTLClipboardOffset","setTClipboardOffset","setAllAreaOffset","setAllClipboardOffset","Selector","areaOffset","indexes","range","arange","lastri","lastci","selector","resetAreaOffset","freezeHeight","freezeWidth","setOffset","getSelectedRect","coffset","getClipboardRect","resetOffset","ri","ci","indexesUpdated","cellRange","calSelectedRangeByStart","sri","sci","cri","cci","setIndexes","moveIndexes","moving","calSelectedRangeByEnd","eri","eci","setEnd","nri","nci","srn","scn","ern","ecn","getRect","showAutofill","forEach","property","hideAutofill","showClipboard","hideClipboard"],"mappings":"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","sourcesContent":["import { h } from './element';\r\nimport { cssPrefix } from '../config';\r\nimport { CellRange } from '../core/cell_range';\r\n\r\nconst selectorHeightBorderWidth = 2 * 2 - 1;\r\nlet startZIndex = 10;\r\n\r\nclass SelectorElement {\r\n  constructor(useHideInput = false) {\r\n    this.useHideInput = useHideInput;\r\n    this.inputChange = () => {};\r\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\r\n    this.areaEl = h('div', `${cssPrefix}-selector-area`)\r\n      .child(this.cornerEl).hide();\r\n    this.clipboardEl = h('div', `${cssPrefix}-selector-clipboard`).hide();\r\n    this.autofillEl = h('div', `${cssPrefix}-selector-autofill`).hide();\r\n    this.el = h('div', `${cssPrefix}-selector`)\r\n      .css('z-index', `${startZIndex}`)\r\n      .children(this.areaEl, this.clipboardEl, this.autofillEl)\r\n      .hide();\r\n    if (useHideInput) {\r\n      this.hideInput = h('input', '')\r\n        .on('compositionend', (evt) => {\r\n          this.inputChange(evt.target.value);\r\n        });\r\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\r\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\r\n    }\r\n    startZIndex += 1;\r\n  }\r\n\r\n  setOffset(v) {\r\n    this.el.offset(v).show();\r\n    return this;\r\n  }\r\n\r\n  hide() {\r\n    this.el.hide();\r\n    return this;\r\n  }\r\n\r\n  setAreaOffset(v) {\r\n    const {\r\n      left, top, width, height,\r\n    } = v;\r\n    const of = {\r\n      width: width - selectorHeightBorderWidth + 0.8,\r\n      height: height - selectorHeightBorderWidth + 0.8,\r\n      left: left - 0.8,\r\n      top: top - 0.8,\r\n    };\r\n    this.areaEl.offset(of).show();\r\n    if (this.useHideInput) {\r\n      this.hideInputDiv.offset(of);\r\n      this.hideInput.val('').focus();\r\n    }\r\n  }\r\n\r\n  setClipboardOffset(v) {\r\n    const {\r\n      left, top, width, height,\r\n    } = v;\r\n    this.clipboardEl.offset({\r\n      left,\r\n      top,\r\n      width: width - 5,\r\n      height: height - 5,\r\n    });\r\n  }\r\n\r\n  showAutofill(v) {\r\n    const {\r\n      left, top, width, height,\r\n    } = v;\r\n    this.autofillEl.offset({\r\n      width: width - selectorHeightBorderWidth,\r\n      height: height - selectorHeightBorderWidth,\r\n      left,\r\n      top,\r\n    }).show();\r\n  }\r\n\r\n  hideAutofill() {\r\n    this.autofillEl.hide();\r\n  }\r\n\r\n  showClipboard() {\r\n    this.clipboardEl.show();\r\n  }\r\n\r\n  hideClipboard() {\r\n    this.clipboardEl.hide();\r\n  }\r\n}\r\n\r\nfunction calBRAreaOffset(offset) {\r\n  const { data } = this;\r\n  const {\r\n    left, top, width, height, scroll, l, t,\r\n  } = offset;\r\n  const ftwidth = data.freezeTotalWidth();\r\n  const ftheight = data.freezeTotalHeight();\r\n  let left0 = left - ftwidth;\r\n  if (ftwidth > l) left0 -= scroll.x;\r\n  let top0 = top - ftheight;\r\n  if (ftheight > t) top0 -= scroll.y;\r\n  return {\r\n    left: left0,\r\n    top: top0,\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nfunction calTAreaOffset(offset) {\r\n  const { data } = this;\r\n  const {\r\n    left, width, height, l, t, scroll,\r\n  } = offset;\r\n  const ftwidth = data.freezeTotalWidth();\r\n  let left0 = left - ftwidth;\r\n  if (ftwidth > l) left0 -= scroll.x;\r\n  return {\r\n    left: left0, top: t, width, height,\r\n  };\r\n}\r\n\r\nfunction calLAreaOffset(offset) {\r\n  const { data } = this;\r\n  const {\r\n    top, width, height, l, t, scroll,\r\n  } = offset;\r\n  const ftheight = data.freezeTotalHeight();\r\n  let top0 = top - ftheight;\r\n  // console.log('ftheight:', ftheight, ', t:', t);\r\n  if (ftheight > t) top0 -= scroll.y;\r\n  return {\r\n    left: l, top: top0, width, height,\r\n  };\r\n}\r\n\r\nfunction setBRAreaOffset(offset) {\r\n  const { br } = this;\r\n  br.setAreaOffset(calBRAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setTLAreaOffset(offset) {\r\n  const { tl } = this;\r\n  tl.setAreaOffset(offset);\r\n}\r\n\r\nfunction setTAreaOffset(offset) {\r\n  const { t } = this;\r\n  t.setAreaOffset(calTAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setLAreaOffset(offset) {\r\n  const { l } = this;\r\n  l.setAreaOffset(calLAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setLClipboardOffset(offset) {\r\n  const { l } = this;\r\n  l.setClipboardOffset(calLAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setBRClipboardOffset(offset) {\r\n  const { br } = this;\r\n  br.setClipboardOffset(calBRAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setTLClipboardOffset(offset) {\r\n  const { tl } = this;\r\n  tl.setClipboardOffset(offset);\r\n}\r\n\r\nfunction setTClipboardOffset(offset) {\r\n  const { t } = this;\r\n  t.setClipboardOffset(calTAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setAllAreaOffset(offset) {\r\n  setBRAreaOffset.call(this, offset);\r\n  setTLAreaOffset.call(this, offset);\r\n  setTAreaOffset.call(this, offset);\r\n  setLAreaOffset.call(this, offset);\r\n}\r\n\r\nfunction setAllClipboardOffset(offset) {\r\n  setBRClipboardOffset.call(this, offset);\r\n  setTLClipboardOffset.call(this, offset);\r\n  setTClipboardOffset.call(this, offset);\r\n  setLClipboardOffset.call(this, offset);\r\n}\r\n\r\nexport default class Selector {\r\n  constructor(data) {\r\n    this.inputChange = () => {};\r\n    this.data = data;\r\n    this.br = new SelectorElement(true);\r\n    this.t = new SelectorElement();\r\n    this.l = new SelectorElement();\r\n    this.tl = new SelectorElement();\r\n    this.br.inputChange = (v) => {\r\n      this.inputChange(v);\r\n    };\r\n    this.br.el.show();\r\n    this.offset = null;\r\n    this.areaOffset = null;\r\n    this.indexes = null;\r\n    this.range = null;\r\n    this.arange = null;\r\n    this.el = h('div', `${cssPrefix}-selectors`)\r\n      .children(\r\n        this.tl.el,\r\n        this.t.el,\r\n        this.l.el,\r\n        this.br.el,\r\n      ).hide();\r\n\r\n    // for performance\r\n    this.lastri = -1;\r\n    this.lastci = -1;\r\n\r\n    startZIndex += 1;\r\n  }\r\n\r\n  resetData(data) {\r\n    this.data = data;\r\n    this.range = data.selector.range;\r\n    this.resetAreaOffset();\r\n  }\r\n\r\n  hide() {\r\n    this.el.hide();\r\n  }\r\n\r\n  resetOffset() {\r\n    const {\r\n      data, tl, t, l, br,\r\n    } = this;\r\n    const freezeHeight = data.freezeTotalHeight();\r\n    const freezeWidth = data.freezeTotalWidth();\r\n    if (freezeHeight > 0 || freezeWidth > 0) {\r\n      tl.setOffset({ width: freezeWidth, height: freezeHeight });\r\n      t.setOffset({ left: freezeWidth, height: freezeHeight });\r\n      l.setOffset({ top: freezeHeight, width: freezeWidth });\r\n      br.setOffset({ left: freezeWidth, top: freezeHeight });\r\n    } else {\r\n      tl.hide();\r\n      t.hide();\r\n      l.hide();\r\n      br.setOffset({ left: 0, top: 0 });\r\n    }\r\n  }\r\n\r\n  resetAreaOffset() {\r\n    // console.log('offset:', offset);\r\n    const offset = this.data.getSelectedRect();\r\n    const coffset = this.data.getClipboardRect();\r\n    setAllAreaOffset.call(this, offset);\r\n    setAllClipboardOffset.call(this, coffset);\r\n    this.resetOffset();\r\n  }\r\n\r\n  resetBRTAreaOffset() {\r\n    const offset = this.data.getSelectedRect();\r\n    const coffset = this.data.getClipboardRect();\r\n    setBRAreaOffset.call(this, offset);\r\n    setTAreaOffset.call(this, offset);\r\n    setBRClipboardOffset.call(this, coffset);\r\n    setTClipboardOffset.call(this, coffset);\r\n    this.resetOffset();\r\n  }\r\n\r\n  resetBRLAreaOffset() {\r\n    const offset = this.data.getSelectedRect();\r\n    const coffset = this.data.getClipboardRect();\r\n    setBRAreaOffset.call(this, offset);\r\n    setLAreaOffset.call(this, offset);\r\n    setBRClipboardOffset.call(this, coffset);\r\n    setLClipboardOffset.call(this, coffset);\r\n    this.resetOffset();\r\n  }\r\n\r\n  set(ri, ci, indexesUpdated = true) {\r\n    const { data } = this;\r\n    const cellRange = data.calSelectedRangeByStart(ri, ci);\r\n    const { sri, sci } = cellRange;\r\n    if (indexesUpdated) {\r\n      let [cri, cci] = [ri, ci];\r\n      if (ri < 0) cri = 0;\r\n      if (ci < 0) cci = 0;\r\n      data.selector.setIndexes(cri, cci);\r\n      this.indexes = [cri, cci];\r\n    }\r\n\r\n    this.moveIndexes = [sri, sci];\r\n    // this.sIndexes = sIndexes;\r\n    // this.eIndexes = eIndexes;\r\n    this.range = cellRange;\r\n    this.resetAreaOffset();\r\n    this.el.show();\r\n  }\r\n\r\n  setEnd(ri, ci, moving = true) {\r\n    const { data, lastri, lastci } = this;\r\n    if (moving) {\r\n      if (ri === lastri && ci === lastci) return;\r\n      this.lastri = ri;\r\n      this.lastci = ci;\r\n    }\r\n    this.range = data.calSelectedRangeByEnd(ri, ci);\r\n    setAllAreaOffset.call(this, this.data.getSelectedRect());\r\n  }\r\n\r\n  reset() {\r\n    // console.log('::::', this.data);\r\n    const { eri, eci } = this.data.selector.range;\r\n    this.setEnd(eri, eci);\r\n  }\r\n\r\n  showAutofill(ri, ci) {\r\n    if (ri === -1 && ci === -1) return;\r\n    // console.log('ri:', ri, ', ci:', ci);\r\n    // const [sri, sci] = this.sIndexes;\r\n    // const [eri, eci] = this.eIndexes;\r\n    const {\r\n      sri, sci, eri, eci,\r\n    } = this.range;\r\n    const [nri, nci] = [ri, ci];\r\n    // const rn = eri - sri;\r\n    // const cn = eci - sci;\r\n    const srn = sri - ri;\r\n    const scn = sci - ci;\r\n    const ern = eri - ri;\r\n    const ecn = eci - ci;\r\n    if (scn > 0) {\r\n      // left\r\n      // console.log('left');\r\n      this.arange = new CellRange(sri, nci, eri, sci - 1);\r\n      // this.saIndexes = [sri, nci];\r\n      // this.eaIndexes = [eri, sci - 1];\r\n      // data.calRangeIndexes2(\r\n    } else if (srn > 0) {\r\n      // top\r\n      // console.log('top');\r\n      // nri = sri;\r\n      this.arange = new CellRange(nri, sci, sri - 1, eci);\r\n      // this.saIndexes = [nri, sci];\r\n      // this.eaIndexes = [sri - 1, eci];\r\n    } else if (ecn < 0) {\r\n      // right\r\n      // console.log('right');\r\n      // nci = eci;\r\n      this.arange = new CellRange(sri, eci + 1, eri, nci);\r\n      // this.saIndexes = [sri, eci + 1];\r\n      // this.eaIndexes = [eri, nci];\r\n    } else if (ern < 0) {\r\n      // bottom\r\n      // console.log('bottom');\r\n      // nri = eri;\r\n      this.arange = new CellRange(eri + 1, sci, nri, eci);\r\n      // this.saIndexes = [eri + 1, sci];\r\n      // this.eaIndexes = [nri, eci];\r\n    } else {\r\n      // console.log('else:');\r\n      this.arange = null;\r\n      // this.saIndexes = null;\r\n      // this.eaIndexes = null;\r\n      return;\r\n    }\r\n    if (this.arange !== null) {\r\n      // console.log(this.saIndexes, ':', this.eaIndexes);\r\n      const offset = this.data.getRect(this.arange);\r\n      offset.width += 2;\r\n      offset.height += 2;\r\n      const {\r\n        br, l, t, tl,\r\n      } = this;\r\n      br.showAutofill(calBRAreaOffset.call(this, offset));\r\n      l.showAutofill(calLAreaOffset.call(this, offset));\r\n      t.showAutofill(calTAreaOffset.call(this, offset));\r\n      tl.showAutofill(offset);\r\n    }\r\n  }\r\n\r\n  hideAutofill() {\r\n    ['br', 'l', 't', 'tl'].forEach((property) => {\r\n      this[property].hideAutofill();\r\n    });\r\n  }\r\n\r\n  showClipboard() {\r\n    const coffset = this.data.getClipboardRect();\r\n    setAllClipboardOffset.call(this, coffset);\r\n    ['br', 'l', 't', 'tl'].forEach((property) => {\r\n      this[property].showClipboard();\r\n    });\r\n  }\r\n\r\n  hideClipboard() {\r\n    ['br', 'l', 't', 'tl'].forEach((property) => {\r\n      this[property].hideClipboard();\r\n    });\r\n  }\r\n}\r\n"]}]}