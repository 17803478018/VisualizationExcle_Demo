{"remainingRequest":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\dropdown_format.js","dependencies":[{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\dropdown_format.js","mtime":1615364198194},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615364186494},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1615364186192},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1615364189991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy9cdTU0MzRcdTVFRkFcdTY2MEUvRGVza3RvcC9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6L1VzZXJzL1x1NTQzNFx1NUVGQVx1NjYwRS9EZXNrdG9wL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovVXNlcnMvXHU1NDM0XHU1RUZBXHU2NjBFL0Rlc2t0b3AvVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJDOi9Vc2Vycy9cdTU0MzRcdTVFRkFcdTY2MEUvRGVza3RvcC9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkM6L1VzZXJzL1x1NTQzNFx1NUVGQVx1NjYwRS9EZXNrdG9wL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IERyb3Bkb3duIGZyb20gJy4vZHJvcGRvd24nOwppbXBvcnQgeyBoIH0gZnJvbSAnLi9lbGVtZW50JzsKaW1wb3J0IHsgYmFzZUZvcm1hdHMgfSBmcm9tICcuLi9jb3JlL2Zvcm1hdCc7CmltcG9ydCB7IGNzc1ByZWZpeCB9IGZyb20gJy4uL2NvbmZpZyc7Cgp2YXIgRHJvcGRvd25Gb3JtYXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Ecm9wZG93bikgewogIF9pbmhlcml0cyhEcm9wZG93bkZvcm1hdCwgX0Ryb3Bkb3duKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihEcm9wZG93bkZvcm1hdCk7CgogIGZ1bmN0aW9uIERyb3Bkb3duRm9ybWF0KCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcm9wZG93bkZvcm1hdCk7CgogICAgdmFyIG5mb3JtYXRzID0gYmFzZUZvcm1hdHMuc2xpY2UoMCk7CiAgICBuZm9ybWF0cy5zcGxpY2UoMiwgMCwgewogICAgICBrZXk6ICdkaXZpZGVyJwogICAgfSk7CiAgICBuZm9ybWF0cy5zcGxpY2UoOCwgMCwgewogICAgICBrZXk6ICdkaXZpZGVyJwogICAgfSk7CiAgICBuZm9ybWF0cyA9IG5mb3JtYXRzLm1hcChmdW5jdGlvbiAoaXQpIHsKICAgICAgdmFyIGl0ZW0gPSBoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLWl0ZW0iKSk7CgogICAgICBpZiAoaXQua2V5ID09PSAnZGl2aWRlcicpIHsKICAgICAgICBpdGVtLmFkZENsYXNzKCdkaXZpZGVyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXRlbS5jaGlsZChpdC50aXRsZSgpKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5zZXRUaXRsZShpdC50aXRsZSgpKTsKCiAgICAgICAgICBfdGhpcy5jaGFuZ2UoaXQpOwogICAgICAgIH0pOwogICAgICAgIGlmIChpdC5sYWJlbCkgaXRlbS5jaGlsZChoKCdkaXYnLCAnbGFiZWwnKS5odG1sKGl0LmxhYmVsKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpdGVtOwogICAgfSk7CiAgICByZXR1cm4gX3RoaXMgPSBfc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsIFt0aGlzLCAnTm9ybWFsJywgJzIyMHB4JywgdHJ1ZSwgJ2JvdHRvbS1sZWZ0J10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShuZm9ybWF0cykpKTsKICB9CgogIF9jcmVhdGVDbGFzcyhEcm9wZG93bkZvcm1hdCwgW3sKICAgIGtleTogInNldFRpdGxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUaXRsZShrZXkpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlRm9ybWF0cy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgIGlmIChiYXNlRm9ybWF0c1tpXS5rZXkgPT09IGtleSkgewogICAgICAgICAgdGhpcy50aXRsZS5odG1sKGJhc2VGb3JtYXRzW2ldLnRpdGxlKCkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5oaWRlKCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRHJvcGRvd25Gb3JtYXQ7Cn0oRHJvcGRvd24pOwoKZXhwb3J0IHsgRHJvcGRvd25Gb3JtYXQgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["C:/Users/吴建明/Desktop/VisualizationExcle_Demo/src/components/x-spreadsheet/component/dropdown_format.js"],"names":["Dropdown","h","baseFormats","cssPrefix","DropdownFormat","nformats","slice","splice","key","map","it","item","addClass","child","title","on","setTitle","change","label","html","i","length","hide"],"mappings":";;;;;;;;;AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,SAASC,CAAT,QAAkB,WAAlB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,SAAT,QAA0B,WAA1B;;IAEqBC,c;;;;;AACnB,4BAAc;AAAA;;AAAA;;AACZ,QAAIC,QAAQ,GAAGH,WAAW,CAACI,KAAZ,CAAkB,CAAlB,CAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAAtB;AACAH,IAAAA,QAAQ,CAACE,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAAtB;AACAH,IAAAA,QAAQ,GAAGA,QAAQ,CAACI,GAAT,CAAa,UAACC,EAAD,EAAQ;AAC9B,UAAMC,IAAI,GAAGV,CAAC,CAAC,KAAD,YAAWE,SAAX,WAAd;;AACA,UAAIO,EAAE,CAACF,GAAH,KAAW,SAAf,EAA0B;AACxBG,QAAAA,IAAI,CAACC,QAAL,CAAc,SAAd;AACD,OAFD,MAEO;AACLD,QAAAA,IAAI,CAACE,KAAL,CAAWH,EAAE,CAACI,KAAH,EAAX,EACGC,EADH,CACM,OADN,EACe,YAAM;AACjB,gBAAKC,QAAL,CAAcN,EAAE,CAACI,KAAH,EAAd;;AACA,gBAAKG,MAAL,CAAYP,EAAZ;AACD,SAJH;AAKA,YAAIA,EAAE,CAACQ,KAAP,EAAcP,IAAI,CAACE,KAAL,CAAWZ,CAAC,CAAC,KAAD,EAAQ,OAAR,CAAD,CAAkBkB,IAAlB,CAAuBT,EAAE,CAACQ,KAA1B,CAAX;AACf;;AACD,aAAOP,IAAP;AACD,KAbU,CAAX;AAJY,oDAkBN,QAlBM,EAkBI,OAlBJ,EAkBa,IAlBb,EAkBmB,aAlBnB,4BAkBqCN,QAlBrC;AAmBb;;;;WAED,kBAASG,GAAT,EAAc;AACZ,WAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,WAAW,CAACmB,MAAhC,EAAwCD,CAAC,IAAI,CAA7C,EAAgD;AAC9C,YAAIlB,WAAW,CAACkB,CAAD,CAAX,CAAeZ,GAAf,KAAuBA,GAA3B,EAAgC;AAC9B,eAAKM,KAAL,CAAWK,IAAX,CAAgBjB,WAAW,CAACkB,CAAD,CAAX,CAAeN,KAAf,EAAhB;AACD;AACF;;AACD,WAAKQ,IAAL;AACD;;;;EA7ByCtB,Q;;SAAvBI,c","sourcesContent":["import Dropdown from './dropdown';\r\nimport { h } from './element';\r\nimport { baseFormats } from '../core/format';\r\nimport { cssPrefix } from '../config';\r\n\r\nexport default class DropdownFormat extends Dropdown {\r\n  constructor() {\r\n    let nformats = baseFormats.slice(0);\r\n    nformats.splice(2, 0, { key: 'divider' });\r\n    nformats.splice(8, 0, { key: 'divider' });\r\n    nformats = nformats.map((it) => {\r\n      const item = h('div', `${cssPrefix}-item`);\r\n      if (it.key === 'divider') {\r\n        item.addClass('divider');\r\n      } else {\r\n        item.child(it.title())\r\n          .on('click', () => {\r\n            this.setTitle(it.title());\r\n            this.change(it);\r\n          });\r\n        if (it.label) item.child(h('div', 'label').html(it.label));\r\n      }\r\n      return item;\r\n    });\r\n    super('Normal', '220px', true, 'bottom-left', ...nformats);\r\n  }\r\n\r\n  setTitle(key) {\r\n    for (let i = 0; i < baseFormats.length; i += 1) {\r\n      if (baseFormats[i].key === key) {\r\n        this.title.html(baseFormats[i].title());\r\n      }\r\n    }\r\n    this.hide();\r\n  }\r\n}\r\n"]}]}