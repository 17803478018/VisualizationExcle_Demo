{"remainingRequest":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\scrollbar.js","dependencies":[{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\scrollbar.js","mtime":1616639586810},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616639573358},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1616639572994},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1616639576682}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9cdTU0MzRcdTVFRkFcdTY2MEUvRGVza3RvcC9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1VzZXJzL1x1NTQzNFx1NUVGQVx1NjYwRS9EZXNrdG9wL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IGggfSBmcm9tICcuL2VsZW1lbnQnOwppbXBvcnQgeyBjc3NQcmVmaXggfSBmcm9tICcuLi9jb25maWcnOwoKdmFyIFNjcm9sbGJhciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gU2Nyb2xsYmFyKHZlcnRpY2FsKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JvbGxiYXIpOwoKICAgIHRoaXMudmVydGljYWwgPSB2ZXJ0aWNhbDsKICAgIHRoaXMubW92ZUZuID0gbnVsbDsKICAgIHRoaXMuZWwgPSBoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLXNjcm9sbGJhciAiKS5jb25jYXQodmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnKSkuY2hpbGQodGhpcy5jb250ZW50RWwgPSBoKCdkaXYnLCAnJykpLm9uKCdtb3VzZW1vdmUuc3RvcCcsIGZ1bmN0aW9uICgpIHt9KS5vbignc2Nyb2xsLnN0b3AnLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIHZhciBfZXZ0JHRhcmdldCA9IGV2dC50YXJnZXQsCiAgICAgICAgICBzY3JvbGxUb3AgPSBfZXZ0JHRhcmdldC5zY3JvbGxUb3AsCiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX2V2dCR0YXJnZXQuc2Nyb2xsTGVmdDsgLy8gY29uc29sZS5sb2coJ3Njcm9sbFRvcDonLCBzY3JvbGxUb3ApOwoKICAgICAgaWYgKF90aGlzLm1vdmVGbikgewogICAgICAgIF90aGlzLm1vdmVGbihfdGhpcy52ZXJ0aWNhbCA/IHNjcm9sbFRvcCA6IHNjcm9sbExlZnQsIGV2dCk7CiAgICAgIH0gLy8gY29uc29sZS5sb2coJ2V2dDo6OicsIGV2dCk7CgogICAgfSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU2Nyb2xsYmFyLCBbewogICAga2V5OiAibW92ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZSh2KSB7CiAgICAgIHRoaXMuZWwuc2Nyb2xsKHYpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY3JvbGwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWwuc2Nyb2xsKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQoZGlzdGFuY2UsIGNvbnRlbnREaXN0YW5jZSkgewogICAgICB2YXIgZCA9IGRpc3RhbmNlIC0gMTsgLy8gY29uc29sZS5sb2coJ2Rpc3RhbmNlOicsIGRpc3RhbmNlLCAnLCBjb250ZW50RGlzdGFuY2U6JywgY29udGVudERpc3RhbmNlKTsKCiAgICAgIGlmIChjb250ZW50RGlzdGFuY2UgPiBkKSB7CiAgICAgICAgdmFyIGNzc0tleSA9IHRoaXMudmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7IC8vIGNvbnNvbGUubG9nKCdkOicsIGQpOwoKICAgICAgICB0aGlzLmVsLmNzcyhjc3NLZXksICIiLmNvbmNhdChkIC0gMTUsICJweCIpKS5zaG93KCk7CiAgICAgICAgdGhpcy5jb250ZW50RWwuY3NzKHRoaXMudmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCcsICcxcHgnKS5jc3MoY3NzS2V5LCAiIi5jb25jYXQoY29udGVudERpc3RhbmNlLCAicHgiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbC5oaWRlKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNjcm9sbGJhcjsKfSgpOwoKZXhwb3J0IHsgU2Nyb2xsYmFyIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/吴建明/Desktop/VisualizationExcle_Demo/src/components/x-spreadsheet/component/scrollbar.js"],"names":["h","cssPrefix","Scrollbar","vertical","moveFn","el","child","contentEl","on","evt","target","scrollTop","scrollLeft","v","scroll","distance","contentDistance","d","cssKey","css","show","hide"],"mappings":";;;AAAA,SAASA,CAAT,QAAkB,WAAlB;AACA,SAASC,SAAT,QAA0B,WAA1B;;IAEqBC,S;AACnB,qBAAYC,QAAZ,EAAsB;AAAA;;AAAA;;AACpB,SAAKA,QAAL,GAAgBA,QAAhB;AACA,SAAKC,MAAL,GAAc,IAAd;AACA,SAAKC,EAAL,GAAUL,CAAC,CAAC,KAAD,YAAWC,SAAX,wBAAkCE,QAAQ,GAAG,UAAH,GAAgB,YAA1D,EAAD,CACPG,KADO,CACD,KAAKC,SAAL,GAAiBP,CAAC,CAAC,KAAD,EAAQ,EAAR,CADjB,EAEPQ,EAFO,CAEJ,gBAFI,EAEc,YAAM,CAAE,CAFtB,EAGPA,EAHO,CAGJ,aAHI,EAGW,UAACC,GAAD,EAAS;AAAA,wBACQA,GAAG,CAACC,MADZ;AAAA,UAClBC,SADkB,eAClBA,SADkB;AAAA,UACPC,UADO,eACPA,UADO,EAE1B;;AACA,UAAI,KAAI,CAACR,MAAT,EAAiB;AACf,QAAA,KAAI,CAACA,MAAL,CAAY,KAAI,CAACD,QAAL,GAAgBQ,SAAhB,GAA4BC,UAAxC,EAAoDH,GAApD;AACD,OALyB,CAM1B;;AACD,KAVO,CAAV;AAWD;;;;WAED,cAAKI,CAAL,EAAQ;AACN,WAAKR,EAAL,CAAQS,MAAR,CAAeD,CAAf;AACA,aAAO,IAAP;AACD;;;WAED,kBAAS;AACP,aAAO,KAAKR,EAAL,CAAQS,MAAR,EAAP;AACD;;;WAED,aAAIC,QAAJ,EAAcC,eAAd,EAA+B;AAC7B,UAAMC,CAAC,GAAGF,QAAQ,GAAG,CAArB,CAD6B,CAE7B;;AACA,UAAIC,eAAe,GAAGC,CAAtB,EAAyB;AACvB,YAAMC,MAAM,GAAG,KAAKf,QAAL,GAAgB,QAAhB,GAA2B,OAA1C,CADuB,CAEvB;;AACA,aAAKE,EAAL,CAAQc,GAAR,CAAYD,MAAZ,YAAuBD,CAAC,GAAG,EAA3B,SAAmCG,IAAnC;AACA,aAAKb,SAAL,CACGY,GADH,CACO,KAAKhB,QAAL,GAAgB,OAAhB,GAA0B,QADjC,EAC2C,KAD3C,EAEGgB,GAFH,CAEOD,MAFP,YAEkBF,eAFlB;AAGD,OAPD,MAOO;AACL,aAAKX,EAAL,CAAQgB,IAAR;AACD;;AACD,aAAO,IAAP;AACD;;;;;;SAxCkBnB,S","sourcesContent":["import { h } from './element';\r\nimport { cssPrefix } from '../config';\r\n\r\nexport default class Scrollbar {\r\n  constructor(vertical) {\r\n    this.vertical = vertical;\r\n    this.moveFn = null;\r\n    this.el = h('div', `${cssPrefix}-scrollbar ${vertical ? 'vertical' : 'horizontal'}`)\r\n      .child(this.contentEl = h('div', ''))\r\n      .on('mousemove.stop', () => {})\r\n      .on('scroll.stop', (evt) => {\r\n        const { scrollTop, scrollLeft } = evt.target;\r\n        // console.log('scrollTop:', scrollTop);\r\n        if (this.moveFn) {\r\n          this.moveFn(this.vertical ? scrollTop : scrollLeft, evt);\r\n        }\r\n        // console.log('evt:::', evt);\r\n      });\r\n  }\r\n\r\n  move(v) {\r\n    this.el.scroll(v);\r\n    return this;\r\n  }\r\n\r\n  scroll() {\r\n    return this.el.scroll();\r\n  }\r\n\r\n  set(distance, contentDistance) {\r\n    const d = distance - 1;\r\n    // console.log('distance:', distance, ', contentDistance:', contentDistance);\r\n    if (contentDistance > d) {\r\n      const cssKey = this.vertical ? 'height' : 'width';\r\n      // console.log('d:', d);\r\n      this.el.css(cssKey, `${d - 15}px`).show();\r\n      this.contentEl\r\n        .css(this.vertical ? 'width' : 'height', '1px')\r\n        .css(cssKey, `${contentDistance}px`);\r\n    } else {\r\n      this.el.hide();\r\n    }\r\n    return this;\r\n  }\r\n}\r\n"]}]}