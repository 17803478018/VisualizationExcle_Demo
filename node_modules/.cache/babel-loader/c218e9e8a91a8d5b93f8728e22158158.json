{"remainingRequest":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\canvas\\draw.js","dependencies":[{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\canvas\\draw.js","mtime":1614915429328},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596536485880},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1606828682259},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1603719226989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkQ6L1x1NEVFM1x1NzgwMS9kZWxfZGVtby9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRDovXHU0RUUzXHU3ODAxL2RlbF9kZW1vL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRDovXHU0RUUzXHU3ODAxL2RlbF9kZW1vL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdHJpa2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRhbGljcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5ib2xkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbGwuanMiOwoKLyogZ2xvYmFsIHdpbmRvdyAqLwpmdW5jdGlvbiBkcHIoKSB7CiAgcmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7Cn0KCmZ1bmN0aW9uIHRoaW5MaW5lV2lkdGgoKSB7CiAgcmV0dXJuIGRwcigpIC0gMC41Owp9CgpmdW5jdGlvbiBucHgocHgpIHsKICByZXR1cm4gcGFyc2VJbnQocHggKiBkcHIoKSwgMTApOwp9CgpmdW5jdGlvbiBucHhMaW5lKHB4KSB7CiAgdmFyIG4gPSBucHgocHgpOwogIHJldHVybiBuID4gMCA/IG4gLSAwLjUgOiAwLjU7Cn0KCnZhciBEcmF3Qm94ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBEcmF3Qm94KHgsIHksIHcsIGgpIHsKICAgIHZhciBwYWRkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAwOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcmF3Qm94KTsKCiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICAgIHRoaXMud2lkdGggPSB3OwogICAgdGhpcy5oZWlnaHQgPSBoOwogICAgdGhpcy5wYWRkaW5nID0gcGFkZGluZzsKICAgIHRoaXMuYmdjb2xvciA9ICcjZmZmZmZmJzsgLy8gYm9yZGVyOiBbd2lkdGgsIHN0eWxlLCBjb2xvcl0KCiAgICB0aGlzLmJvcmRlclRvcCA9IG51bGw7CiAgICB0aGlzLmJvcmRlclJpZ2h0ID0gbnVsbDsKICAgIHRoaXMuYm9yZGVyQm90dG9tID0gbnVsbDsKICAgIHRoaXMuYm9yZGVyTGVmdCA9IG51bGw7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRHJhd0JveCwgW3sKICAgIGtleTogInNldEJvcmRlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEJvcmRlcnMoX3JlZikgewogICAgICB2YXIgdG9wID0gX3JlZi50b3AsCiAgICAgICAgICBib3R0b20gPSBfcmVmLmJvdHRvbSwKICAgICAgICAgIGxlZnQgPSBfcmVmLmxlZnQsCiAgICAgICAgICByaWdodCA9IF9yZWYucmlnaHQ7CiAgICAgIGlmICh0b3ApIHRoaXMuYm9yZGVyVG9wID0gdG9wOwogICAgICBpZiAocmlnaHQpIHRoaXMuYm9yZGVyUmlnaHQgPSByaWdodDsKICAgICAgaWYgKGJvdHRvbSkgdGhpcy5ib3JkZXJCb3R0b20gPSBib3R0b207CiAgICAgIGlmIChsZWZ0KSB0aGlzLmJvcmRlckxlZnQgPSBsZWZ0OwogICAgfQogIH0sIHsKICAgIGtleTogImlubmVyV2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlubmVyV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLndpZHRoIC0gdGhpcy5wYWRkaW5nICogMiAtIDI7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5uZXJIZWlnaHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlubmVySGVpZ2h0KCkgewogICAgICByZXR1cm4gdGhpcy5oZWlnaHQgLSB0aGlzLnBhZGRpbmcgKiAyIC0gMjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0ZXh0eCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdGV4dHgoYWxpZ24pIHsKICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCwKICAgICAgICAgIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmc7CiAgICAgIHZhciB4ID0gdGhpcy54OwoKICAgICAgaWYgKGFsaWduID09PSAnbGVmdCcpIHsKICAgICAgICB4ICs9IHBhZGRpbmc7CiAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdjZW50ZXInKSB7CiAgICAgICAgeCArPSB3aWR0aCAvIDI7CiAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdyaWdodCcpIHsKICAgICAgICB4ICs9IHdpZHRoIC0gcGFkZGluZzsKICAgICAgfQoKICAgICAgcmV0dXJuIHg7CiAgICB9CiAgfSwgewogICAga2V5OiAidGV4dHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRleHR5KGFsaWduLCBoKSB7CiAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodCwKICAgICAgICAgIHBhZGRpbmcgPSB0aGlzLnBhZGRpbmc7CiAgICAgIHZhciB5ID0gdGhpcy55OwoKICAgICAgaWYgKGFsaWduID09PSAndG9wJykgewogICAgICAgIHkgKz0gcGFkZGluZzsKICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ21pZGRsZScpIHsKICAgICAgICB5ICs9IGhlaWdodCAvIDIgLSBoIC8gMjsKICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2JvdHRvbScpIHsKICAgICAgICB5ICs9IGhlaWdodCAtIHBhZGRpbmcgLSBoOwogICAgICB9CgogICAgICByZXR1cm4geTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b3B4eXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvcHh5cygpIHsKICAgICAgdmFyIHggPSB0aGlzLngsCiAgICAgICAgICB5ID0gdGhpcy55LAogICAgICAgICAgd2lkdGggPSB0aGlzLndpZHRoOwogICAgICByZXR1cm4gW1t4LCB5XSwgW3ggKyB3aWR0aCwgeV1dOwogICAgfQogIH0sIHsKICAgIGtleTogInJpZ2h0eHlzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByaWdodHh5cygpIHsKICAgICAgdmFyIHggPSB0aGlzLngsCiAgICAgICAgICB5ID0gdGhpcy55LAogICAgICAgICAgd2lkdGggPSB0aGlzLndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgICAgIHJldHVybiBbW3ggKyB3aWR0aCwgeV0sIFt4ICsgd2lkdGgsIHkgKyBoZWlnaHRdXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJib3R0b214eXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJvdHRvbXh5cygpIHsKICAgICAgdmFyIHggPSB0aGlzLngsCiAgICAgICAgICB5ID0gdGhpcy55LAogICAgICAgICAgd2lkdGggPSB0aGlzLndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgICAgIHJldHVybiBbW3gsIHkgKyBoZWlnaHRdLCBbeCArIHdpZHRoLCB5ICsgaGVpZ2h0XV07CiAgICB9CiAgfSwgewogICAga2V5OiAibGVmdHh5cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGVmdHh5cygpIHsKICAgICAgdmFyIHggPSB0aGlzLngsCiAgICAgICAgICB5ID0gdGhpcy55LAogICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7CiAgICAgIHJldHVybiBbW3gsIHldLCBbeCwgeSArIGhlaWdodF1dOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIERyYXdCb3g7Cn0oKTsKCmZ1bmN0aW9uIGRyYXdGb250TGluZSh0eXBlLCB0eCwgdHksIGFsaWduLCB2YWxpZ24sIGJsaGVpZ2h0LCBibHdpZHRoKSB7CiAgdmFyIGZsb2Zmc2V0ID0gewogICAgeDogMCwKICAgIHk6IDAKICB9OwoKICBpZiAodHlwZSA9PT0gJ3VuZGVybGluZScpIHsKICAgIGlmICh2YWxpZ24gPT09ICdib3R0b20nKSB7CiAgICAgIGZsb2Zmc2V0LnkgPSAwOwogICAgfSBlbHNlIGlmICh2YWxpZ24gPT09ICd0b3AnKSB7CiAgICAgIGZsb2Zmc2V0LnkgPSAtKGJsaGVpZ2h0ICsgMik7CiAgICB9IGVsc2UgewogICAgICBmbG9mZnNldC55ID0gLWJsaGVpZ2h0IC8gMjsKICAgIH0KICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpa2UnKSB7CiAgICBpZiAodmFsaWduID09PSAnYm90dG9tJykgewogICAgICBmbG9mZnNldC55ID0gYmxoZWlnaHQgLyAyOwogICAgfSBlbHNlIGlmICh2YWxpZ24gPT09ICd0b3AnKSB7CiAgICAgIGZsb2Zmc2V0LnkgPSAtKGJsaGVpZ2h0IC8gMiArIDIpOwogICAgfQogIH0KCiAgaWYgKGFsaWduID09PSAnY2VudGVyJykgewogICAgZmxvZmZzZXQueCA9IGJsd2lkdGggLyAyOwogIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdyaWdodCcpIHsKICAgIGZsb2Zmc2V0LnggPSBibHdpZHRoOwogIH0KCiAgdGhpcy5saW5lKFt0eCAtIGZsb2Zmc2V0LngsIHR5IC0gZmxvZmZzZXQueV0sIFt0eCAtIGZsb2Zmc2V0LnggKyBibHdpZHRoLCB0eSAtIGZsb2Zmc2V0LnldKTsKfQoKdmFyIERyYXcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIERyYXcoZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcmF3KTsKCiAgICB0aGlzLmVsID0gZWw7CiAgICB0aGlzLmN0eCA9IGVsLmdldENvbnRleHQoJzJkJyk7CiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgIHRoaXMuY3R4LnNjYWxlKGRwcigpLCBkcHIoKSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRHJhdywgW3sKICAgIGtleTogInJlc2l6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ2RwcjonLCBkcHIpOwogICAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gIiIuY29uY2F0KHdpZHRoLCAicHgiKTsKICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSAiIi5jb25jYXQoaGVpZ2h0LCAicHgiKTsKICAgICAgdGhpcy5lbC53aWR0aCA9IG5weCh3aWR0aCk7CiAgICAgIHRoaXMuZWwuaGVpZ2h0ID0gbnB4KGhlaWdodCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xlYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB2YXIgX3RoaXMkZWwgPSB0aGlzLmVsLAogICAgICAgICAgd2lkdGggPSBfdGhpcyRlbC53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IF90aGlzJGVsLmhlaWdodDsKICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdHRyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdHRyKG9wdGlvbnMpIHsKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmN0eCwgb3B0aW9ucyk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHRoaXMuY3R4LnNhdmUoKTsKICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInJlc3RvcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RvcmUoKSB7CiAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiYmVnaW5QYXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBiZWdpblBhdGgoKSB7CiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0cmFuc2xhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zbGF0ZSh4LCB5KSB7CiAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShucHgoeCksIG5weCh5KSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNjYWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzY2FsZSh4LCB5KSB7CiAgICAgIHRoaXMuY3R4LnNjYWxlKHgsIHkpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGVhclJlY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyUmVjdCh4LCB5LCB3LCBoKSB7CiAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCh4LCB5LCB3LCBoKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsbFJlY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbGxSZWN0KHgsIHksIHcsIGgpIHsKICAgICAgdGhpcy5jdHguZmlsbFJlY3QobnB4KHgpIC0gMC41LCBucHgoeSkgLSAwLjUsIG5weCh3KSwgbnB4KGgpKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsbFRleHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbGxUZXh0KHRleHQsIHgsIHkpIHsKICAgICAgdGhpcy5jdHguZmlsbFRleHQodGV4dCwgbnB4KHgpLCBucHgoeSkpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qDQogICAgICB0eHQ6IHJlbmRlciB0ZXh0DQogICAgICBib3g6IERyYXdCb3gNCiAgICAgIGF0dHI6IHsNCiAgICAgICAgYWxpZ246IGxlZnQgfCBjZW50ZXIgfCByaWdodA0KICAgICAgICB2YWxpZ246IHRvcCB8IG1pZGRsZSB8IGJvdHRvbQ0KICAgICAgICBjb2xvcjogJyMzMzMzMzMnLA0KICAgICAgICBzdHJpa2U6IGZhbHNlLA0KICAgICAgICBmb250OiB7DQogICAgICAgICAgbmFtZTogJ0FyaWFsJywNCiAgICAgICAgICBzaXplOiAxNCwNCiAgICAgICAgICBib2xkOiBmYWxzZSwNCiAgICAgICAgICBpdGFsaWM6IGZhbHNlLA0KICAgICAgICB9DQogICAgICB9DQogICAgICB0ZXh0V3JhcDogdGV4dCB3cmFwcGluZw0KICAgICovCgogIH0sIHsKICAgIGtleTogInRleHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRleHQobXR4dCwgYm94KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgYXR0ciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICAgIHZhciB0ZXh0V3JhcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTsKICAgICAgdmFyIGN0eCA9IHRoaXMuY3R4OwogICAgICB2YXIgYWxpZ24gPSBhdHRyLmFsaWduLAogICAgICAgICAgdmFsaWduID0gYXR0ci52YWxpZ24sCiAgICAgICAgICBmb250ID0gYXR0ci5mb250LAogICAgICAgICAgY29sb3IgPSBhdHRyLmNvbG9yLAogICAgICAgICAgc3RyaWtlID0gYXR0ci5zdHJpa2UsCiAgICAgICAgICB1bmRlcmxpbmUgPSBhdHRyLnVuZGVybGluZTsKICAgICAgdmFyIHR4ID0gYm94LnRleHR4KGFsaWduKTsKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICB0aGlzLmF0dHIoewogICAgICAgIHRleHRBbGlnbjogYWxpZ24sCiAgICAgICAgdGV4dEJhc2VsaW5lOiB2YWxpZ24sCiAgICAgICAgZm9udDogIiIuY29uY2F0KGZvbnQuaXRhbGljID8gJ2l0YWxpYycgOiAnJywgIiAiKS5jb25jYXQoZm9udC5ib2xkID8gJ2JvbGQnIDogJycsICIgIikuY29uY2F0KG5weChmb250LnNpemUpLCAicHggIikuY29uY2F0KGZvbnQubmFtZSksCiAgICAgICAgZmlsbFN0eWxlOiBjb2xvciwKICAgICAgICBzdHJva2VTdHlsZTogY29sb3IKICAgICAgfSk7CiAgICAgIHZhciB0eHRzID0gIiIuY29uY2F0KG10eHQpLnNwbGl0KCdcbicpOwogICAgICB2YXIgYml3ID0gYm94LmlubmVyV2lkdGgoKTsKICAgICAgdmFyIG50eHRzID0gW107CiAgICAgIHR4dHMuZm9yRWFjaChmdW5jdGlvbiAoaXQpIHsKICAgICAgICB2YXIgdHh0V2lkdGggPSBjdHgubWVhc3VyZVRleHQoaXQpLndpZHRoOwoKICAgICAgICBpZiAodGV4dFdyYXAgJiYgdHh0V2lkdGggPiBucHgoYml3KSkgewogICAgICAgICAgdmFyIHRleHRMaW5lID0gewogICAgICAgICAgICB3OiAwLAogICAgICAgICAgICBsZW46IDAsCiAgICAgICAgICAgIHN0YXJ0OiAwCiAgICAgICAgICB9OwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXQubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgaWYgKHRleHRMaW5lLncgPj0gbnB4KGJpdykpIHsKICAgICAgICAgICAgICBudHh0cy5wdXNoKGl0LnN1YnN0cih0ZXh0TGluZS5zdGFydCwgdGV4dExpbmUubGVuKSk7CiAgICAgICAgICAgICAgdGV4dExpbmUgPSB7CiAgICAgICAgICAgICAgICB3OiAwLAogICAgICAgICAgICAgICAgbGVuOiAwLAogICAgICAgICAgICAgICAgc3RhcnQ6IGkKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CgogICAgICAgICAgICB0ZXh0TGluZS5sZW4gKz0gMTsKICAgICAgICAgICAgdGV4dExpbmUudyArPSBjdHgubWVhc3VyZVRleHQoaXRbaV0pLndpZHRoICsgMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGV4dExpbmUubGVuID4gMCkgewogICAgICAgICAgICBudHh0cy5wdXNoKGl0LnN1YnN0cih0ZXh0TGluZS5zdGFydCwgdGV4dExpbmUubGVuKSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG50eHRzLnB1c2goaXQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciB0eHRIZWlnaHQgPSAobnR4dHMubGVuZ3RoIC0gMSkgKiAoZm9udC5zaXplICsgMik7CiAgICAgIHZhciB0eSA9IGJveC50ZXh0eSh2YWxpZ24sIHR4dEhlaWdodCk7CiAgICAgIG50eHRzLmZvckVhY2goZnVuY3Rpb24gKHR4dCkgewogICAgICAgIHZhciB0eHRXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dCh0eHQpLndpZHRoOwoKICAgICAgICBfdGhpcy5maWxsVGV4dCh0eHQsIHR4LCB0eSk7CgogICAgICAgIGlmIChzdHJpa2UpIHsKICAgICAgICAgIGRyYXdGb250TGluZS5jYWxsKF90aGlzLCAnc3RyaWtlJywgdHgsIHR5LCBhbGlnbiwgdmFsaWduLCBmb250LnNpemUsIHR4dFdpZHRoKTsKICAgICAgICB9CgogICAgICAgIGlmICh1bmRlcmxpbmUpIHsKICAgICAgICAgIGRyYXdGb250TGluZS5jYWxsKF90aGlzLCAndW5kZXJsaW5lJywgdHgsIHR5LCBhbGlnbiwgdmFsaWduLCBmb250LnNpemUsIHR4dFdpZHRoKTsKICAgICAgICB9CgogICAgICAgIHR5ICs9IGZvbnQuc2l6ZSArIDI7CiAgICAgIH0pOwogICAgICBjdHgucmVzdG9yZSgpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJib3JkZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJvcmRlcihzdHlsZSwgY29sb3IpIHsKICAgICAgdmFyIGN0eCA9IHRoaXMuY3R4OwogICAgICBjdHgubGluZVdpZHRoID0gdGhpbkxpbmVXaWR0aDsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7IC8vIGNvbnNvbGUubG9nKCdzdHlsZTonLCBzdHlsZSk7CgogICAgICBpZiAoc3R5bGUgPT09ICdtZWRpdW0nKSB7CiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IG5weCgyKSAtIDAuNTsKICAgICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gJ3RoaWNrJykgewogICAgICAgIGN0eC5saW5lV2lkdGggPSBucHgoMyk7CiAgICAgIH0gZWxzZSBpZiAoc3R5bGUgPT09ICdkYXNoZWQnKSB7CiAgICAgICAgY3R4LnNldExpbmVEYXNoKFtucHgoMyksIG5weCgyKV0pOwogICAgICB9IGVsc2UgaWYgKHN0eWxlID09PSAnZG90dGVkJykgewogICAgICAgIGN0eC5zZXRMaW5lRGFzaChbbnB4KDEpLCBucHgoMSldKTsKICAgICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gJ2RvdWJsZScpIHsKICAgICAgICBjdHguc2V0TGluZURhc2goW25weCgyKSwgMF0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsaW5lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsaW5lKCkgewogICAgICB2YXIgY3R4ID0gdGhpcy5jdHg7CgogICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CgogICAgICAgIHZhciBfcmVmMiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSwKICAgICAgICAgICAgX3JlZjMgPSBfc2xpY2VkVG9BcnJheShfcmVmMiwgMiksCiAgICAgICAgICAgIHggPSBfcmVmM1swXSwKICAgICAgICAgICAgeSA9IF9yZWYzWzFdOwoKICAgICAgICBjdHgubW92ZVRvKG5weExpbmUoeCksIG5weExpbmUoeSkpOwoKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgdmFyIF9yZWY0ID0gaSA8IDAgfHwgYXJndW1lbnRzLmxlbmd0aCA8PSBpID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2ldLAogICAgICAgICAgICAgIF9yZWY1ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjQsIDIpLAogICAgICAgICAgICAgIHgxID0gX3JlZjVbMF0sCiAgICAgICAgICAgICAgeTEgPSBfcmVmNVsxXTsKCiAgICAgICAgICBjdHgubGluZVRvKG5weExpbmUoeDEpLCBucHhMaW5lKHkxKSk7CiAgICAgICAgfQoKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInN0cm9rZUJvcmRlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0cm9rZUJvcmRlcnMoYm94KSB7CiAgICAgIHZhciBjdHggPSB0aGlzLmN0eDsKICAgICAgY3R4LnNhdmUoKTsgLy8gYm9yZGVyCgogICAgICB2YXIgYm9yZGVyVG9wID0gYm94LmJvcmRlclRvcCwKICAgICAgICAgIGJvcmRlclJpZ2h0ID0gYm94LmJvcmRlclJpZ2h0LAogICAgICAgICAgYm9yZGVyQm90dG9tID0gYm94LmJvcmRlckJvdHRvbSwKICAgICAgICAgIGJvcmRlckxlZnQgPSBib3guYm9yZGVyTGVmdDsKCiAgICAgIGlmIChib3JkZXJUb3ApIHsKICAgICAgICB0aGlzLmJvcmRlci5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoYm9yZGVyVG9wKSk7IC8vIGNvbnNvbGUubG9nKCdib3gudG9weHlzOicsIGJveC50b3B4eXMoKSk7CgogICAgICAgIHRoaXMubGluZS5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoYm94LnRvcHh5cygpKSk7CiAgICAgIH0KCiAgICAgIGlmIChib3JkZXJSaWdodCkgewogICAgICAgIHRoaXMuYm9yZGVyLmFwcGx5KHRoaXMsIF90b0NvbnN1bWFibGVBcnJheShib3JkZXJSaWdodCkpOwogICAgICAgIHRoaXMubGluZS5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoYm94LnJpZ2h0eHlzKCkpKTsKICAgICAgfQoKICAgICAgaWYgKGJvcmRlckJvdHRvbSkgewogICAgICAgIHRoaXMuYm9yZGVyLmFwcGx5KHRoaXMsIF90b0NvbnN1bWFibGVBcnJheShib3JkZXJCb3R0b20pKTsKICAgICAgICB0aGlzLmxpbmUuYXBwbHkodGhpcywgX3RvQ29uc3VtYWJsZUFycmF5KGJveC5ib3R0b214eXMoKSkpOwogICAgICB9CgogICAgICBpZiAoYm9yZGVyTGVmdCkgewogICAgICAgIHRoaXMuYm9yZGVyLmFwcGx5KHRoaXMsIF90b0NvbnN1bWFibGVBcnJheShib3JkZXJMZWZ0KSk7CiAgICAgICAgdGhpcy5saW5lLmFwcGx5KHRoaXMsIF90b0NvbnN1bWFibGVBcnJheShib3gubGVmdHh5cygpKSk7CiAgICAgIH0KCiAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZHJvcGRvd24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRyb3Bkb3duKGJveCkgewogICAgICB2YXIgY3R4ID0gdGhpcy5jdHg7CiAgICAgIHZhciB4ID0gYm94LngsCiAgICAgICAgICB5ID0gYm94LnksCiAgICAgICAgICB3aWR0aCA9IGJveC53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IGJveC5oZWlnaHQ7CiAgICAgIHZhciBzeCA9IHggKyB3aWR0aCAtIDE1OwogICAgICB2YXIgc3kgPSB5ICsgaGVpZ2h0IC0gMTU7CiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4Lm1vdmVUbyhucHgoc3gpLCBucHgoc3kpKTsKICAgICAgY3R4LmxpbmVUbyhucHgoc3ggKyA4KSwgbnB4KHN5KSk7CiAgICAgIGN0eC5saW5lVG8obnB4KHN4ICsgNCksIG5weChzeSArIDYpKTsKICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgLjQ1KSc7CiAgICAgIGN0eC5maWxsKCk7CiAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXJyb3IiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVycm9yKGJveCkgewogICAgICB2YXIgY3R4ID0gdGhpcy5jdHg7CiAgICAgIHZhciB4ID0gYm94LngsCiAgICAgICAgICB5ID0gYm94LnksCiAgICAgICAgICB3aWR0aCA9IGJveC53aWR0aDsKICAgICAgdmFyIHN4ID0geCArIHdpZHRoIC0gMTsKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHgubW92ZVRvKG5weChzeCAtIDgpLCBucHgoeSAtIDEpKTsKICAgICAgY3R4LmxpbmVUbyhucHgoc3gpLCBucHgoeSAtIDEpKTsKICAgICAgY3R4LmxpbmVUbyhucHgoc3gpLCBucHgoeSArIDgpKTsKICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAwLCAwLCAuNjUpJzsKICAgICAgY3R4LmZpbGwoKTsKICAgICAgY3R4LnJlc3RvcmUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmcm96ZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZyb3plbihib3gpIHsKICAgICAgdmFyIGN0eCA9IHRoaXMuY3R4OwogICAgICB2YXIgeCA9IGJveC54LAogICAgICAgICAgeSA9IGJveC55LAogICAgICAgICAgd2lkdGggPSBib3gud2lkdGg7CiAgICAgIHZhciBzeCA9IHggKyB3aWR0aCAtIDE7CiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4Lm1vdmVUbyhucHgoc3ggLSA4KSwgbnB4KHkgLSAxKSk7CiAgICAgIGN0eC5saW5lVG8obnB4KHN4KSwgbnB4KHkgLSAxKSk7CiAgICAgIGN0eC5saW5lVG8obnB4KHN4KSwgbnB4KHkgKyA4KSk7CiAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDI1NSwgMCwgLjg1KSc7CiAgICAgIGN0eC5maWxsKCk7CiAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjdChib3gsIGR0ZXh0Y2IpIHsKICAgICAgdmFyIGN0eCA9IHRoaXMuY3R4OwogICAgICB2YXIgeCA9IGJveC54LAogICAgICAgICAgeSA9IGJveC55LAogICAgICAgICAgd2lkdGggPSBib3gud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSBib3guaGVpZ2h0LAogICAgICAgICAgYmdjb2xvciA9IGJveC5iZ2NvbG9yOwogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIGN0eC5maWxsU3R5bGUgPSBiZ2NvbG9yIHx8ICcjZmZmJzsKICAgICAgY3R4LnJlY3QobnB4TGluZSh4ICsgMSksIG5weExpbmUoeSArIDEpLCBucHgod2lkdGggLSAyKSwgbnB4KGhlaWdodCAtIDIpKTsKICAgICAgY3R4LmNsaXAoKTsKICAgICAgY3R4LmZpbGwoKTsKICAgICAgZHRleHRjYigpOwogICAgICBjdHgucmVzdG9yZSgpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIERyYXc7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IHt9OwpleHBvcnQgeyBEcmF3LCBEcmF3Qm94LCB0aGluTGluZVdpZHRoLCBucHggfTs="},{"version":3,"sources":["D:/代码/del_demo/VisualizationExcle_Demo/src/components/x-spreadsheet/canvas/draw.js"],"names":["dpr","window","devicePixelRatio","thinLineWidth","npx","px","parseInt","npxLine","n","DrawBox","x","y","w","h","padding","width","height","bgcolor","borderTop","borderRight","borderBottom","borderLeft","top","bottom","left","right","align","drawFontLine","type","tx","ty","valign","blheight","blwidth","floffset","line","Draw","el","ctx","getContext","resize","scale","style","clearRect","options","Object","assign","save","beginPath","restore","translate","fillRect","text","fillText","mtxt","box","attr","textWrap","font","color","strike","underline","textx","textAlign","textBaseline","italic","bold","size","name","fillStyle","strokeStyle","txts","split","biw","innerWidth","ntxts","forEach","it","txtWidth","measureText","textLine","len","start","i","length","push","substr","txtHeight","texty","txt","call","lineWidth","setLineDash","moveTo","x1","y1","lineTo","stroke","border","topxys","rightxys","bottomxys","leftxys","sx","sy","closePath","fill","dtextcb","rect","clip"],"mappings":"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","sourcesContent":["/* global window */\r\nfunction dpr() {\r\n  return window.devicePixelRatio || 1;\r\n}\r\n\r\nfunction thinLineWidth() {\r\n  return dpr() - 0.5;\r\n}\r\n\r\nfunction npx(px) {\r\n  return parseInt(px * dpr(), 10);\r\n}\r\n\r\nfunction npxLine(px) {\r\n  const n = npx(px);\r\n  return n > 0 ? n - 0.5 : 0.5;\r\n}\r\n\r\nclass DrawBox {\r\n  constructor(x, y, w, h, padding = 0) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.width = w;\r\n    this.height = h;\r\n    this.padding = padding;\r\n    this.bgcolor = '#ffffff';\r\n    // border: [width, style, color]\r\n    this.borderTop = null;\r\n    this.borderRight = null;\r\n    this.borderBottom = null;\r\n    this.borderLeft = null;\r\n  }\r\n\r\n  setBorders({\r\n    top, bottom, left, right,\r\n  }) {\r\n    if (top) this.borderTop = top;\r\n    if (right) this.borderRight = right;\r\n    if (bottom) this.borderBottom = bottom;\r\n    if (left) this.borderLeft = left;\r\n  }\r\n\r\n  innerWidth() {\r\n    return this.width - (this.padding * 2) - 2;\r\n  }\r\n\r\n  innerHeight() {\r\n    return this.height - (this.padding * 2) - 2;\r\n  }\r\n\r\n  textx(align) {\r\n    const { width, padding } = this;\r\n    let { x } = this;\r\n    if (align === 'left') {\r\n      x += padding;\r\n    } else if (align === 'center') {\r\n      x += width / 2;\r\n    } else if (align === 'right') {\r\n      x += width - padding;\r\n    }\r\n    return x;\r\n  }\r\n\r\n  texty(align, h) {\r\n    const { height, padding } = this;\r\n    let { y } = this;\r\n    if (align === 'top') {\r\n      y += padding;\r\n    } else if (align === 'middle') {\r\n      y += height / 2 - h / 2;\r\n    } else if (align === 'bottom') {\r\n      y += height - padding - h;\r\n    }\r\n    return y;\r\n  }\r\n\r\n  topxys() {\r\n    const { x, y, width } = this;\r\n    return [[x, y], [x + width, y]];\r\n  }\r\n\r\n  rightxys() {\r\n    const {\r\n      x, y, width, height,\r\n    } = this;\r\n    return [[x + width, y], [x + width, y + height]];\r\n  }\r\n\r\n  bottomxys() {\r\n    const {\r\n      x, y, width, height,\r\n    } = this;\r\n    return [[x, y + height], [x + width, y + height]];\r\n  }\r\n\r\n  leftxys() {\r\n    const {\r\n      x, y, height,\r\n    } = this;\r\n    return [[x, y], [x, y + height]];\r\n  }\r\n}\r\n\r\nfunction drawFontLine(type, tx, ty, align, valign, blheight, blwidth) {\r\n  const floffset = { x: 0, y: 0 };\r\n  if (type === 'underline') {\r\n    if (valign === 'bottom') {\r\n      floffset.y = 0;\r\n    } else if (valign === 'top') {\r\n      floffset.y = -(blheight + 2);\r\n    } else {\r\n      floffset.y = -blheight / 2;\r\n    }\r\n  } else if (type === 'strike') {\r\n    if (valign === 'bottom') {\r\n      floffset.y = blheight / 2;\r\n    } else if (valign === 'top') {\r\n      floffset.y = -((blheight / 2) + 2);\r\n    }\r\n  }\r\n\r\n  if (align === 'center') {\r\n    floffset.x = blwidth / 2;\r\n  } else if (align === 'right') {\r\n    floffset.x = blwidth;\r\n  }\r\n  this.line(\r\n    [tx - floffset.x, ty - floffset.y],\r\n    [tx - floffset.x + blwidth, ty - floffset.y],\r\n  );\r\n}\r\n\r\nclass Draw {\r\n  constructor(el, width, height) {\r\n    this.el = el;\r\n    this.ctx = el.getContext('2d');\r\n    this.resize(width, height);\r\n    this.ctx.scale(dpr(), dpr());\r\n  }\r\n\r\n  resize(width, height) {\r\n    // console.log('dpr:', dpr);\r\n    this.el.style.width = `${width}px`;\r\n    this.el.style.height = `${height}px`;\r\n    this.el.width = npx(width);\r\n    this.el.height = npx(height);\r\n  }\r\n\r\n  clear() {\r\n    const { width, height } = this.el;\r\n    this.ctx.clearRect(0, 0, width, height);\r\n    return this;\r\n  }\r\n\r\n  attr(options) {\r\n    Object.assign(this.ctx, options);\r\n    return this;\r\n  }\r\n\r\n  save() {\r\n    this.ctx.save();\r\n    this.ctx.beginPath();\r\n    return this;\r\n  }\r\n\r\n  restore() {\r\n    this.ctx.restore();\r\n    return this;\r\n  }\r\n\r\n  beginPath() {\r\n    this.ctx.beginPath();\r\n    return this;\r\n  }\r\n\r\n  translate(x, y) {\r\n    this.ctx.translate(npx(x), npx(y));\r\n    return this;\r\n  }\r\n\r\n  scale(x, y) {\r\n    this.ctx.scale(x, y);\r\n    return this;\r\n  }\r\n\r\n  clearRect(x, y, w, h) {\r\n    this.ctx.clearRect(x, y, w, h);\r\n    return this;\r\n  }\r\n\r\n  fillRect(x, y, w, h) {\r\n    this.ctx.fillRect(npx(x) - 0.5, npx(y) - 0.5, npx(w), npx(h));\r\n    return this;\r\n  }\r\n\r\n  fillText(text, x, y) {\r\n    this.ctx.fillText(text, npx(x), npx(y));\r\n    return this;\r\n  }\r\n\r\n  /*\r\n    txt: render text\r\n    box: DrawBox\r\n    attr: {\r\n      align: left | center | right\r\n      valign: top | middle | bottom\r\n      color: '#333333',\r\n      strike: false,\r\n      font: {\r\n        name: 'Arial',\r\n        size: 14,\r\n        bold: false,\r\n        italic: false,\r\n      }\r\n    }\r\n    textWrap: text wrapping\r\n  */\r\n  text(mtxt, box, attr = {}, textWrap = true) {\r\n    const { ctx } = this;\r\n    const {\r\n      align, valign, font, color, strike, underline,\r\n    } = attr;\r\n    const tx = box.textx(align);\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    this.attr({\r\n      textAlign: align,\r\n      textBaseline: valign,\r\n      font: `${font.italic ? 'italic' : ''} ${font.bold ? 'bold' : ''} ${npx(font.size)}px ${font.name}`,\r\n      fillStyle: color,\r\n      strokeStyle: color,\r\n    });\r\n    const txts = `${mtxt}`.split('\\n');\r\n    const biw = box.innerWidth();\r\n    const ntxts = [];\r\n    txts.forEach((it) => {\r\n      const txtWidth = ctx.measureText(it).width;\r\n      if (textWrap && txtWidth > npx(biw)) {\r\n        let textLine = { w: 0, len: 0, start: 0 };\r\n        for (let i = 0; i < it.length; i += 1) {\r\n          if (textLine.w >= npx(biw)) {\r\n            ntxts.push(it.substr(textLine.start, textLine.len));\r\n            textLine = { w: 0, len: 0, start: i };\r\n          }\r\n          textLine.len += 1;\r\n          textLine.w += ctx.measureText(it[i]).width + 1;\r\n        }\r\n        if (textLine.len > 0) {\r\n          ntxts.push(it.substr(textLine.start, textLine.len));\r\n        }\r\n      } else {\r\n        ntxts.push(it);\r\n      }\r\n    });\r\n    const txtHeight = (ntxts.length - 1) * (font.size + 2);\r\n    let ty = box.texty(valign, txtHeight);\r\n    ntxts.forEach((txt) => {\r\n      const txtWidth = ctx.measureText(txt).width;\r\n      this.fillText(txt, tx, ty);\r\n      if (strike) {\r\n        drawFontLine.call(this, 'strike', tx, ty, align, valign, font.size, txtWidth);\r\n      }\r\n      if (underline) {\r\n        drawFontLine.call(this, 'underline', tx, ty, align, valign, font.size, txtWidth);\r\n      }\r\n      ty += font.size + 2;\r\n    });\r\n    ctx.restore();\r\n    return this;\r\n  }\r\n\r\n  border(style, color) {\r\n    const { ctx } = this;\r\n    ctx.lineWidth = thinLineWidth;\r\n    ctx.strokeStyle = color;\r\n    // console.log('style:', style);\r\n    if (style === 'medium') {\r\n      ctx.lineWidth = npx(2) - 0.5;\r\n    } else if (style === 'thick') {\r\n      ctx.lineWidth = npx(3);\r\n    } else if (style === 'dashed') {\r\n      ctx.setLineDash([npx(3), npx(2)]);\r\n    } else if (style === 'dotted') {\r\n      ctx.setLineDash([npx(1), npx(1)]);\r\n    } else if (style === 'double') {\r\n      ctx.setLineDash([npx(2), 0]);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  line(...xys) {\r\n    const { ctx } = this;\r\n    if (xys.length > 1) {\r\n      ctx.beginPath();\r\n      const [x, y] = xys[0];\r\n      ctx.moveTo(npxLine(x), npxLine(y));\r\n      for (let i = 1; i < xys.length; i += 1) {\r\n        const [x1, y1] = xys[i];\r\n        ctx.lineTo(npxLine(x1), npxLine(y1));\r\n      }\r\n      ctx.stroke();\r\n    }\r\n    return this;\r\n  }\r\n\r\n  strokeBorders(box) {\r\n    const { ctx } = this;\r\n    ctx.save();\r\n    // border\r\n    const {\r\n      borderTop, borderRight, borderBottom, borderLeft,\r\n    } = box;\r\n    if (borderTop) {\r\n      this.border(...borderTop);\r\n      // console.log('box.topxys:', box.topxys());\r\n      this.line(...box.topxys());\r\n    }\r\n    if (borderRight) {\r\n      this.border(...borderRight);\r\n      this.line(...box.rightxys());\r\n    }\r\n    if (borderBottom) {\r\n      this.border(...borderBottom);\r\n      this.line(...box.bottomxys());\r\n    }\r\n    if (borderLeft) {\r\n      this.border(...borderLeft);\r\n      this.line(...box.leftxys());\r\n    }\r\n    ctx.restore();\r\n  }\r\n\r\n  dropdown(box) {\r\n    const { ctx } = this;\r\n    const {\r\n      x, y, width, height,\r\n    } = box;\r\n    const sx = x + width - 15;\r\n    const sy = y + height - 15;\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    ctx.moveTo(npx(sx), npx(sy));\r\n    ctx.lineTo(npx(sx + 8), npx(sy));\r\n    ctx.lineTo(npx(sx + 4), npx(sy + 6));\r\n    ctx.closePath();\r\n    ctx.fillStyle = 'rgba(0, 0, 0, .45)';\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n\r\n  error(box) {\r\n    const { ctx } = this;\r\n    const { x, y, width } = box;\r\n    const sx = x + width - 1;\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\r\n    ctx.lineTo(npx(sx), npx(y - 1));\r\n    ctx.lineTo(npx(sx), npx(y + 8));\r\n    ctx.closePath();\r\n    ctx.fillStyle = 'rgba(255, 0, 0, .65)';\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n\r\n  frozen(box) {\r\n    const { ctx } = this;\r\n    const { x, y, width } = box;\r\n    const sx = x + width - 1;\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    ctx.moveTo(npx(sx - 8), npx(y - 1));\r\n    ctx.lineTo(npx(sx), npx(y - 1));\r\n    ctx.lineTo(npx(sx), npx(y + 8));\r\n    ctx.closePath();\r\n    ctx.fillStyle = 'rgba(0, 255, 0, .85)';\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n\r\n  rect(box, dtextcb) {\r\n    const { ctx } = this;\r\n    const {\r\n      x, y, width, height, bgcolor,\r\n    } = box;\r\n    ctx.save();\r\n    ctx.beginPath();\r\n    ctx.fillStyle = bgcolor || '#fff';\r\n    ctx.rect(npxLine(x + 1), npxLine(y + 1), npx(width - 2), npx(height - 2));\r\n    ctx.clip();\r\n    ctx.fill();\r\n    dtextcb();\r\n    ctx.restore();\r\n  }\r\n}\r\n\r\nexport default {};\r\nexport {\r\n  Draw,\r\n  DrawBox,\r\n  thinLineWidth,\r\n  npx,\r\n};\r\n"]}]}