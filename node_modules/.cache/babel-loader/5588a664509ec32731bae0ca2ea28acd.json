{"remainingRequest":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\dropdown.js","dependencies":[{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\dropdown.js","mtime":1614915429332},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596536485880},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1606828682259},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1603719226989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgRWxlbWVudCwgaCB9IGZyb20gJy4vZWxlbWVudCc7CmltcG9ydCB7IGJpbmRDbGlja291dHNpZGUsIHVuYmluZENsaWNrb3V0c2lkZSB9IGZyb20gJy4vZXZlbnQnOwppbXBvcnQgeyBjc3NQcmVmaXggfSBmcm9tICcuLi9jb25maWcnOwoKdmFyIERyb3Bkb3duID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRWxlbWVudCkgewogIF9pbmhlcml0cyhEcm9wZG93biwgX0VsZW1lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERyb3Bkb3duKTsKCiAgZnVuY3Rpb24gRHJvcGRvd24odGl0bGUsIHdpZHRoLCBzaG93QXJyb3csIHBsYWNlbWVudCkgewogICAgdmFyIF90aGlzMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyb3Bkb3duKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLWRyb3Bkb3duICIpLmNvbmNhdChwbGFjZW1lbnQpKTsKICAgIF90aGlzLnRpdGxlID0gdGl0bGU7CgogICAgX3RoaXMuY2hhbmdlID0gZnVuY3Rpb24gKCkge307CgogICAgX3RoaXMuaGVhZGVyQ2xpY2sgPSBmdW5jdGlvbiAoKSB7fTsKCiAgICBpZiAodHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJykgewogICAgICBfdGhpcy50aXRsZSA9IGgoJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItZHJvcGRvd24tdGl0bGUiKSkuY2hpbGQodGl0bGUpOwogICAgfSBlbHNlIGlmIChzaG93QXJyb3cpIHsKICAgICAgX3RoaXMudGl0bGUuYWRkQ2xhc3MoJ2Fycm93LWxlZnQnKTsKICAgIH0KCiAgICBfdGhpcy5jb250ZW50RWwgPSBoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLWRyb3Bkb3duLWNvbnRlbnQiKSkuY3NzKCd3aWR0aCcsIHdpZHRoKS5oaWRlKCk7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNoaWxkcmVuID0gbmV3IEFycmF5KF9sZW4gPiA0ID8gX2xlbiAtIDQgOiAwKSwgX2tleSA9IDQ7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgY2hpbGRyZW5bX2tleSAtIDRdID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIChfdGhpczIgPSBfdGhpcykuc2V0Q29udGVudENoaWxkcmVuLmFwcGx5KF90aGlzMiwgY2hpbGRyZW4pOwoKICAgIF90aGlzLmhlYWRlckVsID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1kcm9wZG93bi1oZWFkZXIiKSk7CgogICAgX3RoaXMuaGVhZGVyRWwub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICBpZiAoX3RoaXMuY29udGVudEVsLmNzcygnZGlzcGxheScpICE9PSAnYmxvY2snKSB7CiAgICAgICAgX3RoaXMuc2hvdygpOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLmhpZGUoKTsKICAgICAgfQogICAgfSkuY2hpbGRyZW4oX3RoaXMudGl0bGUsIHNob3dBcnJvdyA/IGgoJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItaWNvbiBhcnJvdy1yaWdodCIpKS5jaGlsZChoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLWljb24taW1nIGFycm93LWRvd24iKSkpIDogJycpOwoKICAgIF90aGlzLmNoaWxkcmVuKF90aGlzLmhlYWRlckVsLCBfdGhpcy5jb250ZW50RWwpOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhEcm9wZG93biwgW3sKICAgIGtleTogInNldENvbnRlbnRDaGlsZHJlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29udGVudENoaWxkcmVuKCkgewogICAgICB0aGlzLmNvbnRlbnRFbC5odG1sKCcnKTsKCiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBfdGhpcyRjb250ZW50RWw7CgogICAgICAgIChfdGhpcyRjb250ZW50RWwgPSB0aGlzLmNvbnRlbnRFbCkuY2hpbGRyZW4uYXBwbHkoX3RoaXMkY29udGVudEVsLCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0VGl0bGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRpdGxlKHRpdGxlKSB7CiAgICAgIHRoaXMudGl0bGUuaHRtbCh0aXRsZSk7CiAgICAgIHRoaXMuaGlkZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogInNob3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGNvbnRlbnRFbCA9IHRoaXMuY29udGVudEVsOwogICAgICBjb250ZW50RWwuc2hvdygpOwogICAgICB0aGlzLnBhcmVudCgpLmFjdGl2ZSgpOwogICAgICBiaW5kQ2xpY2tvdXRzaWRlKHRoaXMucGFyZW50KCksIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuaGlkZSgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoaWRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICB0aGlzLnBhcmVudCgpLmFjdGl2ZShmYWxzZSk7CiAgICAgIHRoaXMuY29udGVudEVsLmhpZGUoKTsKICAgICAgdW5iaW5kQ2xpY2tvdXRzaWRlKHRoaXMucGFyZW50KCkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIERyb3Bkb3duOwp9KEVsZW1lbnQpOwoKZXhwb3J0IHsgRHJvcGRvd24gYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["D:/代码/del_demo/VisualizationExcle_Demo/src/components/x-spreadsheet/component/dropdown.js"],"names":["Element","h","bindClickoutside","unbindClickoutside","cssPrefix","Dropdown","title","width","showArrow","placement","change","headerClick","child","addClass","contentEl","css","hide","children","setContentChildren","headerEl","on","show","html","length","parent","active"],"mappings":";;;;;AAAA,SAASA,OAAT,EAAkBC,CAAlB,QAA2B,WAA3B;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,SAArD;AACA,SAASC,SAAT,QAA0B,WAA1B;;IAEqBC,Q;;;;;AACnB,oBAAYC,KAAZ,EAAmBC,KAAnB,EAA0BC,SAA1B,EAAqCC,SAArC,EAA6D;AAAA;;AAAA;;AAAA;;AAC3D,8BAAM,KAAN,YAAgBL,SAAhB,uBAAsCK,SAAtC;AACA,UAAKH,KAAL,GAAaA,KAAb;;AACA,UAAKI,MAAL,GAAc,YAAM,CAAE,CAAtB;;AACA,UAAKC,WAAL,GAAmB,YAAM,CAAE,CAA3B;;AACA,QAAI,OAAOL,KAAP,KAAiB,QAArB,EAA+B;AAC7B,YAAKA,KAAL,GAAaL,CAAC,CAAC,KAAD,YAAWG,SAAX,qBAAD,CAAwCQ,KAAxC,CAA8CN,KAA9C,CAAb;AACD,KAFD,MAEO,IAAIE,SAAJ,EAAe;AACpB,YAAKF,KAAL,CAAWO,QAAX,CAAoB,YAApB;AACD;;AACD,UAAKC,SAAL,GAAiBb,CAAC,CAAC,KAAD,YAAWG,SAAX,uBAAD,CACdW,GADc,CACV,OADU,EACDR,KADC,EAEdS,IAFc,EAAjB;;AAV2D,sCAAVC,QAAU;AAAVA,MAAAA,QAAU;AAAA;;AAc3D,qBAAKC,kBAAL,eAA2BD,QAA3B;;AAEA,UAAKE,QAAL,GAAgBlB,CAAC,CAAC,KAAD,YAAWG,SAAX,sBAAjB;;AACA,UAAKe,QAAL,CAAcC,EAAd,CAAiB,OAAjB,EAA0B,YAAM;AAC9B,UAAI,MAAKN,SAAL,CAAeC,GAAf,CAAmB,SAAnB,MAAkC,OAAtC,EAA+C;AAC7C,cAAKM,IAAL;AACD,OAFD,MAEO;AACL,cAAKL,IAAL;AACD;AACF,KAND,EAMGC,QANH,CAOE,MAAKX,KAPP,EAQEE,SAAS,GAAGP,CAAC,CAAC,KAAD,YAAWG,SAAX,uBAAD,CAA0CQ,KAA1C,CACVX,CAAC,CAAC,KAAD,YAAWG,SAAX,0BADS,CAAH,GAEL,EAVN;;AAYA,UAAKa,QAAL,CAAc,MAAKE,QAAnB,EAA6B,MAAKL,SAAlC;;AA7B2D;AA8B5D;;;;WAED,8BAAgC;AAC9B,WAAKA,SAAL,CAAeQ,IAAf,CAAoB,EAApB;;AACA,UAAI,UAASC,MAAT,GAAkB,CAAtB,EAAyB;AAAA;;AACvB,gCAAKT,SAAL,EAAeG,QAAf;AACD;AACF;;;WAED,kBAASX,KAAT,EAAgB;AACd,WAAKA,KAAL,CAAWgB,IAAX,CAAgBhB,KAAhB;AACA,WAAKU,IAAL;AACD;;;WAED,gBAAO;AAAA;;AAAA,UACGF,SADH,GACiB,IADjB,CACGA,SADH;AAELA,MAAAA,SAAS,CAACO,IAAV;AACA,WAAKG,MAAL,GAAcC,MAAd;AACAvB,MAAAA,gBAAgB,CAAC,KAAKsB,MAAL,EAAD,EAAgB,YAAM;AACpC,QAAA,MAAI,CAACR,IAAL;AACD,OAFe,CAAhB;AAGD;;;WAED,gBAAO;AACL,WAAKQ,MAAL,GAAcC,MAAd,CAAqB,KAArB;AACA,WAAKX,SAAL,CAAeE,IAAf;AACAb,MAAAA,kBAAkB,CAAC,KAAKqB,MAAL,EAAD,CAAlB;AACD;;;;EA1DmCxB,O;;SAAjBK,Q","sourcesContent":["import { Element, h } from './element';\r\nimport { bindClickoutside, unbindClickoutside } from './event';\r\nimport { cssPrefix } from '../config';\r\n\r\nexport default class Dropdown extends Element {\r\n  constructor(title, width, showArrow, placement, ...children) {\r\n    super('div', `${cssPrefix}-dropdown ${placement}`);\r\n    this.title = title;\r\n    this.change = () => {};\r\n    this.headerClick = () => {};\r\n    if (typeof title === 'string') {\r\n      this.title = h('div', `${cssPrefix}-dropdown-title`).child(title);\r\n    } else if (showArrow) {\r\n      this.title.addClass('arrow-left');\r\n    }\r\n    this.contentEl = h('div', `${cssPrefix}-dropdown-content`)\r\n      .css('width', width)\r\n      .hide();\r\n\r\n    this.setContentChildren(...children);\r\n\r\n    this.headerEl = h('div', `${cssPrefix}-dropdown-header`);\r\n    this.headerEl.on('click', () => {\r\n      if (this.contentEl.css('display') !== 'block') {\r\n        this.show();\r\n      } else {\r\n        this.hide();\r\n      }\r\n    }).children(\r\n      this.title,\r\n      showArrow ? h('div', `${cssPrefix}-icon arrow-right`).child(\r\n        h('div', `${cssPrefix}-icon-img arrow-down`),\r\n      ) : '',\r\n    );\r\n    this.children(this.headerEl, this.contentEl);\r\n  }\r\n\r\n  setContentChildren(...children) {\r\n    this.contentEl.html('');\r\n    if (children.length > 0) {\r\n      this.contentEl.children(...children);\r\n    }\r\n  }\r\n\r\n  setTitle(title) {\r\n    this.title.html(title);\r\n    this.hide();\r\n  }\r\n\r\n  show() {\r\n    const { contentEl } = this;\r\n    contentEl.show();\r\n    this.parent().active();\r\n    bindClickoutside(this.parent(), () => {\r\n      this.hide();\r\n    });\r\n  }\r\n\r\n  hide() {\r\n    this.parent().active(false);\r\n    this.contentEl.hide();\r\n    unbindClickoutside(this.parent());\r\n  }\r\n}\r\n"]}]}