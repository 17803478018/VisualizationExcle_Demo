{"remainingRequest":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\scrollbar.js","dependencies":[{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\scrollbar.js","mtime":1614915429341},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596536485880},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1606828682259},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1603719226989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgaCB9IGZyb20gJy4vZWxlbWVudCc7CmltcG9ydCB7IGNzc1ByZWZpeCB9IGZyb20gJy4uL2NvbmZpZyc7Cgp2YXIgU2Nyb2xsYmFyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTY3JvbGxiYXIodmVydGljYWwpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbGJhcik7CgogICAgdGhpcy52ZXJ0aWNhbCA9IHZlcnRpY2FsOwogICAgdGhpcy5tb3ZlRm4gPSBudWxsOwogICAgdGhpcy5lbCA9IGgoJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItc2Nyb2xsYmFyICIpLmNvbmNhdCh2ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcpKS5jaGlsZCh0aGlzLmNvbnRlbnRFbCA9IGgoJ2RpdicsICcnKSkub24oJ21vdXNlbW92ZS5zdG9wJywgZnVuY3Rpb24gKCkge30pLm9uKCdzY3JvbGwuc3RvcCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgdmFyIF9ldnQkdGFyZ2V0ID0gZXZ0LnRhcmdldCwKICAgICAgICAgIHNjcm9sbFRvcCA9IF9ldnQkdGFyZ2V0LnNjcm9sbFRvcCwKICAgICAgICAgIHNjcm9sbExlZnQgPSBfZXZ0JHRhcmdldC5zY3JvbGxMZWZ0OyAvLyBjb25zb2xlLmxvZygnc2Nyb2xsVG9wOicsIHNjcm9sbFRvcCk7CgogICAgICBpZiAoX3RoaXMubW92ZUZuKSB7CiAgICAgICAgX3RoaXMubW92ZUZuKF90aGlzLnZlcnRpY2FsID8gc2Nyb2xsVG9wIDogc2Nyb2xsTGVmdCwgZXZ0KTsKICAgICAgfSAvLyBjb25zb2xlLmxvZygnZXZ0Ojo6JywgZXZ0KTsKCiAgICB9KTsKICB9CgogIF9jcmVhdGVDbGFzcyhTY3JvbGxiYXIsIFt7CiAgICBrZXk6ICJtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlKHYpIHsKICAgICAgdGhpcy5lbC5zY3JvbGwodik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNjcm9sbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsKCkgewogICAgICByZXR1cm4gdGhpcy5lbC5zY3JvbGwoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldChkaXN0YW5jZSwgY29udGVudERpc3RhbmNlKSB7CiAgICAgIHZhciBkID0gZGlzdGFuY2UgLSAxOyAvLyBjb25zb2xlLmxvZygnZGlzdGFuY2U6JywgZGlzdGFuY2UsICcsIGNvbnRlbnREaXN0YW5jZTonLCBjb250ZW50RGlzdGFuY2UpOwoKICAgICAgaWYgKGNvbnRlbnREaXN0YW5jZSA+IGQpIHsKICAgICAgICB2YXIgY3NzS2V5ID0gdGhpcy52ZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJzsgLy8gY29uc29sZS5sb2coJ2Q6JywgZCk7CgogICAgICAgIHRoaXMuZWwuY3NzKGNzc0tleSwgIiIuY29uY2F0KGQgLSAxNSwgInB4IikpLnNob3coKTsKICAgICAgICB0aGlzLmNvbnRlbnRFbC5jc3ModGhpcy52ZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JywgJzFweCcpLmNzcyhjc3NLZXksICIiLmNvbmNhdChjb250ZW50RGlzdGFuY2UsICJweCIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVsLmhpZGUoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2Nyb2xsYmFyOwp9KCk7CgpleHBvcnQgeyBTY3JvbGxiYXIgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["D:/代码/del_demo/VisualizationExcle_Demo/src/components/x-spreadsheet/component/scrollbar.js"],"names":["h","cssPrefix","Scrollbar","vertical","moveFn","el","child","contentEl","on","evt","target","scrollTop","scrollLeft","v","scroll","distance","contentDistance","d","cssKey","css","show","hide"],"mappings":";;;AAAA,SAASA,CAAT,QAAkB,WAAlB;AACA,SAASC,SAAT,QAA0B,WAA1B;;IAEqBC,S;AACnB,qBAAYC,QAAZ,EAAsB;AAAA;;AAAA;;AACpB,SAAKA,QAAL,GAAgBA,QAAhB;AACA,SAAKC,MAAL,GAAc,IAAd;AACA,SAAKC,EAAL,GAAUL,CAAC,CAAC,KAAD,YAAWC,SAAX,wBAAkCE,QAAQ,GAAG,UAAH,GAAgB,YAA1D,EAAD,CACPG,KADO,CACD,KAAKC,SAAL,GAAiBP,CAAC,CAAC,KAAD,EAAQ,EAAR,CADjB,EAEPQ,EAFO,CAEJ,gBAFI,EAEc,YAAM,CAAE,CAFtB,EAGPA,EAHO,CAGJ,aAHI,EAGW,UAACC,GAAD,EAAS;AAAA,wBACQA,GAAG,CAACC,MADZ;AAAA,UAClBC,SADkB,eAClBA,SADkB;AAAA,UACPC,UADO,eACPA,UADO,EAE1B;;AACA,UAAI,KAAI,CAACR,MAAT,EAAiB;AACf,QAAA,KAAI,CAACA,MAAL,CAAY,KAAI,CAACD,QAAL,GAAgBQ,SAAhB,GAA4BC,UAAxC,EAAoDH,GAApD;AACD,OALyB,CAM1B;;AACD,KAVO,CAAV;AAWD;;;;WAED,cAAKI,CAAL,EAAQ;AACN,WAAKR,EAAL,CAAQS,MAAR,CAAeD,CAAf;AACA,aAAO,IAAP;AACD;;;WAED,kBAAS;AACP,aAAO,KAAKR,EAAL,CAAQS,MAAR,EAAP;AACD;;;WAED,aAAIC,QAAJ,EAAcC,eAAd,EAA+B;AAC7B,UAAMC,CAAC,GAAGF,QAAQ,GAAG,CAArB,CAD6B,CAE7B;;AACA,UAAIC,eAAe,GAAGC,CAAtB,EAAyB;AACvB,YAAMC,MAAM,GAAG,KAAKf,QAAL,GAAgB,QAAhB,GAA2B,OAA1C,CADuB,CAEvB;;AACA,aAAKE,EAAL,CAAQc,GAAR,CAAYD,MAAZ,YAAuBD,CAAC,GAAG,EAA3B,SAAmCG,IAAnC;AACA,aAAKb,SAAL,CACGY,GADH,CACO,KAAKhB,QAAL,GAAgB,OAAhB,GAA0B,QADjC,EAC2C,KAD3C,EAEGgB,GAFH,CAEOD,MAFP,YAEkBF,eAFlB;AAGD,OAPD,MAOO;AACL,aAAKX,EAAL,CAAQgB,IAAR;AACD;;AACD,aAAO,IAAP;AACD;;;;;;SAxCkBnB,S","sourcesContent":["import { h } from './element';\r\nimport { cssPrefix } from '../config';\r\n\r\nexport default class Scrollbar {\r\n  constructor(vertical) {\r\n    this.vertical = vertical;\r\n    this.moveFn = null;\r\n    this.el = h('div', `${cssPrefix}-scrollbar ${vertical ? 'vertical' : 'horizontal'}`)\r\n      .child(this.contentEl = h('div', ''))\r\n      .on('mousemove.stop', () => {})\r\n      .on('scroll.stop', (evt) => {\r\n        const { scrollTop, scrollLeft } = evt.target;\r\n        // console.log('scrollTop:', scrollTop);\r\n        if (this.moveFn) {\r\n          this.moveFn(this.vertical ? scrollTop : scrollLeft, evt);\r\n        }\r\n        // console.log('evt:::', evt);\r\n      });\r\n  }\r\n\r\n  move(v) {\r\n    this.el.scroll(v);\r\n    return this;\r\n  }\r\n\r\n  scroll() {\r\n    return this.el.scroll();\r\n  }\r\n\r\n  set(distance, contentDistance) {\r\n    const d = distance - 1;\r\n    // console.log('distance:', distance, ', contentDistance:', contentDistance);\r\n    if (contentDistance > d) {\r\n      const cssKey = this.vertical ? 'height' : 'width';\r\n      // console.log('d:', d);\r\n      this.el.css(cssKey, `${d - 15}px`).show();\r\n      this.contentEl\r\n        .css(this.vertical ? 'width' : 'height', '1px')\r\n        .css(cssKey, `${contentDistance}px`);\r\n    } else {\r\n      this.el.hide();\r\n    }\r\n    return this;\r\n  }\r\n}\r\n"]}]}