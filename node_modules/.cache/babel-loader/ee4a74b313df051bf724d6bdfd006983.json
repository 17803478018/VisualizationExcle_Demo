{"remainingRequest":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\dropdown_format.js","dependencies":[{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\dropdown_format.js","mtime":1614915429334},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596536485880},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1606828682259},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1603719226989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgRHJvcGRvd24gZnJvbSAnLi9kcm9wZG93bic7CmltcG9ydCB7IGggfSBmcm9tICcuL2VsZW1lbnQnOwppbXBvcnQgeyBiYXNlRm9ybWF0cyB9IGZyb20gJy4uL2NvcmUvZm9ybWF0JzsKaW1wb3J0IHsgY3NzUHJlZml4IH0gZnJvbSAnLi4vY29uZmlnJzsKCnZhciBEcm9wZG93bkZvcm1hdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Ryb3Bkb3duKSB7CiAgX2luaGVyaXRzKERyb3Bkb3duRm9ybWF0LCBfRHJvcGRvd24pOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERyb3Bkb3duRm9ybWF0KTsKCiAgZnVuY3Rpb24gRHJvcGRvd25Gb3JtYXQoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERyb3Bkb3duRm9ybWF0KTsKCiAgICB2YXIgbmZvcm1hdHMgPSBiYXNlRm9ybWF0cy5zbGljZSgwKTsKICAgIG5mb3JtYXRzLnNwbGljZSgyLCAwLCB7CiAgICAgIGtleTogJ2RpdmlkZXInCiAgICB9KTsKICAgIG5mb3JtYXRzLnNwbGljZSg4LCAwLCB7CiAgICAgIGtleTogJ2RpdmlkZXInCiAgICB9KTsKICAgIG5mb3JtYXRzID0gbmZvcm1hdHMubWFwKGZ1bmN0aW9uIChpdCkgewogICAgICB2YXIgaXRlbSA9IGgoJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItaXRlbSIpKTsKCiAgICAgIGlmIChpdC5rZXkgPT09ICdkaXZpZGVyJykgewogICAgICAgIGl0ZW0uYWRkQ2xhc3MoJ2RpdmlkZXInKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtLmNoaWxkKGl0LnRpdGxlKCkpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnNldFRpdGxlKGl0LnRpdGxlKCkpOwoKICAgICAgICAgIF90aGlzLmNoYW5nZShpdCk7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGl0LmxhYmVsKSBpdGVtLmNoaWxkKGgoJ2RpdicsICdsYWJlbCcpLmh0bWwoaXQubGFiZWwpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGl0ZW07CiAgICB9KTsKICAgIHJldHVybiBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXMsICdOb3JtYWwnLCAnMjIwcHgnLCB0cnVlLCAnYm90dG9tLWxlZnQnXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG5mb3JtYXRzKSkpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKERyb3Bkb3duRm9ybWF0LCBbewogICAga2V5OiAic2V0VGl0bGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRpdGxlKGtleSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhc2VGb3JtYXRzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgaWYgKGJhc2VGb3JtYXRzW2ldLmtleSA9PT0ga2V5KSB7CiAgICAgICAgICB0aGlzLnRpdGxlLmh0bWwoYmFzZUZvcm1hdHNbaV0udGl0bGUoKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmhpZGUoKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBEcm9wZG93bkZvcm1hdDsKfShEcm9wZG93bik7CgpleHBvcnQgeyBEcm9wZG93bkZvcm1hdCBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["D:/代码/del_demo/VisualizationExcle_Demo/src/components/x-spreadsheet/component/dropdown_format.js"],"names":["Dropdown","h","baseFormats","cssPrefix","DropdownFormat","nformats","slice","splice","key","map","it","item","addClass","child","title","on","setTitle","change","label","html","i","length","hide"],"mappings":";;;;;;;;;AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,SAASC,CAAT,QAAkB,WAAlB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,SAAT,QAA0B,WAA1B;;IAEqBC,c;;;;;AACnB,4BAAc;AAAA;;AAAA;;AACZ,QAAIC,QAAQ,GAAGH,WAAW,CAACI,KAAZ,CAAkB,CAAlB,CAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAAtB;AACAH,IAAAA,QAAQ,CAACE,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAAtB;AACAH,IAAAA,QAAQ,GAAGA,QAAQ,CAACI,GAAT,CAAa,UAACC,EAAD,EAAQ;AAC9B,UAAMC,IAAI,GAAGV,CAAC,CAAC,KAAD,YAAWE,SAAX,WAAd;;AACA,UAAIO,EAAE,CAACF,GAAH,KAAW,SAAf,EAA0B;AACxBG,QAAAA,IAAI,CAACC,QAAL,CAAc,SAAd;AACD,OAFD,MAEO;AACLD,QAAAA,IAAI,CAACE,KAAL,CAAWH,EAAE,CAACI,KAAH,EAAX,EACGC,EADH,CACM,OADN,EACe,YAAM;AACjB,gBAAKC,QAAL,CAAcN,EAAE,CAACI,KAAH,EAAd;;AACA,gBAAKG,MAAL,CAAYP,EAAZ;AACD,SAJH;AAKA,YAAIA,EAAE,CAACQ,KAAP,EAAcP,IAAI,CAACE,KAAL,CAAWZ,CAAC,CAAC,KAAD,EAAQ,OAAR,CAAD,CAAkBkB,IAAlB,CAAuBT,EAAE,CAACQ,KAA1B,CAAX;AACf;;AACD,aAAOP,IAAP;AACD,KAbU,CAAX;AAJY,oDAkBN,QAlBM,EAkBI,OAlBJ,EAkBa,IAlBb,EAkBmB,aAlBnB,4BAkBqCN,QAlBrC;AAmBb;;;;WAED,kBAASG,GAAT,EAAc;AACZ,WAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,WAAW,CAACmB,MAAhC,EAAwCD,CAAC,IAAI,CAA7C,EAAgD;AAC9C,YAAIlB,WAAW,CAACkB,CAAD,CAAX,CAAeZ,GAAf,KAAuBA,GAA3B,EAAgC;AAC9B,eAAKM,KAAL,CAAWK,IAAX,CAAgBjB,WAAW,CAACkB,CAAD,CAAX,CAAeN,KAAf,EAAhB;AACD;AACF;;AACD,WAAKQ,IAAL;AACD;;;;EA7ByCtB,Q;;SAAvBI,c","sourcesContent":["import Dropdown from './dropdown';\r\nimport { h } from './element';\r\nimport { baseFormats } from '../core/format';\r\nimport { cssPrefix } from '../config';\r\n\r\nexport default class DropdownFormat extends Dropdown {\r\n  constructor() {\r\n    let nformats = baseFormats.slice(0);\r\n    nformats.splice(2, 0, { key: 'divider' });\r\n    nformats.splice(8, 0, { key: 'divider' });\r\n    nformats = nformats.map((it) => {\r\n      const item = h('div', `${cssPrefix}-item`);\r\n      if (it.key === 'divider') {\r\n        item.addClass('divider');\r\n      } else {\r\n        item.child(it.title())\r\n          .on('click', () => {\r\n            this.setTitle(it.title());\r\n            this.change(it);\r\n          });\r\n        if (it.label) item.child(h('div', 'label').html(it.label));\r\n      }\r\n      return item;\r\n    });\r\n    super('Normal', '220px', true, 'bottom-left', ...nformats);\r\n  }\r\n\r\n  setTitle(key) {\r\n    for (let i = 0; i < baseFormats.length; i += 1) {\r\n      if (baseFormats[i].key === key) {\r\n        this.title.html(baseFormats[i].title());\r\n      }\r\n    }\r\n    this.hide();\r\n  }\r\n}\r\n"]}]}