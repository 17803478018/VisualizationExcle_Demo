{"remainingRequest":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\dropdown.js","dependencies":[{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\dropdown.js","mtime":1616639586800},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616639573358},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1616639572994},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1616639576682}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9cdTU0MzRcdTVFRkFcdTY2MEUvRGVza3RvcC9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1VzZXJzL1x1NTQzNFx1NUVGQVx1NjYwRS9EZXNrdG9wL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzovVXNlcnMvXHU1NDM0XHU1RUZBXHU2NjBFL0Rlc2t0b3AvVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJDOi9Vc2Vycy9cdTU0MzRcdTVFRkFcdTY2MEUvRGVza3RvcC9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgeyBFbGVtZW50LCBoIH0gZnJvbSAnLi9lbGVtZW50JzsKaW1wb3J0IHsgYmluZENsaWNrb3V0c2lkZSwgdW5iaW5kQ2xpY2tvdXRzaWRlIH0gZnJvbSAnLi9ldmVudCc7CmltcG9ydCB7IGNzc1ByZWZpeCB9IGZyb20gJy4uL2NvbmZpZyc7Cgp2YXIgRHJvcGRvd24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FbGVtZW50KSB7CiAgX2luaGVyaXRzKERyb3Bkb3duLCBfRWxlbWVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRHJvcGRvd24pOwoKICBmdW5jdGlvbiBEcm9wZG93bih0aXRsZSwgd2lkdGgsIHNob3dBcnJvdywgcGxhY2VtZW50KSB7CiAgICB2YXIgX3RoaXMyOwoKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJvcGRvd24pOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItZHJvcGRvd24gIikuY29uY2F0KHBsYWNlbWVudCkpOwogICAgX3RoaXMudGl0bGUgPSB0aXRsZTsKCiAgICBfdGhpcy5jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7fTsKCiAgICBfdGhpcy5oZWFkZXJDbGljayA9IGZ1bmN0aW9uICgpIHt9OwoKICAgIGlmICh0eXBlb2YgdGl0bGUgPT09ICdzdHJpbmcnKSB7CiAgICAgIF90aGlzLnRpdGxlID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1kcm9wZG93bi10aXRsZSIpKS5jaGlsZCh0aXRsZSk7CiAgICB9IGVsc2UgaWYgKHNob3dBcnJvdykgewogICAgICBfdGhpcy50aXRsZS5hZGRDbGFzcygnYXJyb3ctbGVmdCcpOwogICAgfQoKICAgIF90aGlzLmNvbnRlbnRFbCA9IGgoJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItZHJvcGRvd24tY29udGVudCIpKS5jc3MoJ3dpZHRoJywgd2lkdGgpLmhpZGUoKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2hpbGRyZW4gPSBuZXcgQXJyYXkoX2xlbiA+IDQgPyBfbGVuIC0gNCA6IDApLCBfa2V5ID0gNDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBjaGlsZHJlbltfa2V5IC0gNF0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgKF90aGlzMiA9IF90aGlzKS5zZXRDb250ZW50Q2hpbGRyZW4uYXBwbHkoX3RoaXMyLCBjaGlsZHJlbik7CgogICAgX3RoaXMuaGVhZGVyRWwgPSBoKCdkaXYnLCAiIi5jb25jYXQoY3NzUHJlZml4LCAiLWRyb3Bkb3duLWhlYWRlciIpKTsKCiAgICBfdGhpcy5oZWFkZXJFbC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5jb250ZW50RWwuY3NzKCdkaXNwbGF5JykgIT09ICdibG9jaycpIHsKICAgICAgICBfdGhpcy5zaG93KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuaGlkZSgpOwogICAgICB9CiAgICB9KS5jaGlsZHJlbihfdGhpcy50aXRsZSwgc2hvd0Fycm93ID8gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1pY29uIGFycm93LXJpZ2h0IikpLmNoaWxkKGgoJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItaWNvbi1pbWcgYXJyb3ctZG93biIpKSkgOiAnJyk7CgogICAgX3RoaXMuY2hpbGRyZW4oX3RoaXMuaGVhZGVyRWwsIF90aGlzLmNvbnRlbnRFbCk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKERyb3Bkb3duLCBbewogICAga2V5OiAic2V0Q29udGVudENoaWxkcmVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb250ZW50Q2hpbGRyZW4oKSB7CiAgICAgIHRoaXMuY29udGVudEVsLmh0bWwoJycpOwoKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIF90aGlzJGNvbnRlbnRFbDsKCiAgICAgICAgKF90aGlzJGNvbnRlbnRFbCA9IHRoaXMuY29udGVudEVsKS5jaGlsZHJlbi5hcHBseShfdGhpcyRjb250ZW50RWwsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRUaXRsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGl0bGUodGl0bGUpIHsKICAgICAgdGhpcy50aXRsZS5odG1sKHRpdGxlKTsKICAgICAgdGhpcy5oaWRlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgY29udGVudEVsID0gdGhpcy5jb250ZW50RWw7CiAgICAgIGNvbnRlbnRFbC5zaG93KCk7CiAgICAgIHRoaXMucGFyZW50KCkuYWN0aXZlKCk7CiAgICAgIGJpbmRDbGlja291dHNpZGUodGhpcy5wYXJlbnQoKSwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5oaWRlKCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImhpZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgIHRoaXMucGFyZW50KCkuYWN0aXZlKGZhbHNlKTsKICAgICAgdGhpcy5jb250ZW50RWwuaGlkZSgpOwogICAgICB1bmJpbmRDbGlja291dHNpZGUodGhpcy5wYXJlbnQoKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRHJvcGRvd247Cn0oRWxlbWVudCk7CgpleHBvcnQgeyBEcm9wZG93biBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/吴建明/Desktop/VisualizationExcle_Demo/src/components/x-spreadsheet/component/dropdown.js"],"names":["Element","h","bindClickoutside","unbindClickoutside","cssPrefix","Dropdown","title","width","showArrow","placement","change","headerClick","child","addClass","contentEl","css","hide","children","setContentChildren","headerEl","on","show","html","length","parent","active"],"mappings":";;;;;AAAA,SAASA,OAAT,EAAkBC,CAAlB,QAA2B,WAA3B;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,SAArD;AACA,SAASC,SAAT,QAA0B,WAA1B;;IAEqBC,Q;;;;;AACnB,oBAAYC,KAAZ,EAAmBC,KAAnB,EAA0BC,SAA1B,EAAqCC,SAArC,EAA6D;AAAA;;AAAA;;AAAA;;AAC3D,8BAAM,KAAN,YAAgBL,SAAhB,uBAAsCK,SAAtC;AACA,UAAKH,KAAL,GAAaA,KAAb;;AACA,UAAKI,MAAL,GAAc,YAAM,CAAE,CAAtB;;AACA,UAAKC,WAAL,GAAmB,YAAM,CAAE,CAA3B;;AACA,QAAI,OAAOL,KAAP,KAAiB,QAArB,EAA+B;AAC7B,YAAKA,KAAL,GAAaL,CAAC,CAAC,KAAD,YAAWG,SAAX,qBAAD,CAAwCQ,KAAxC,CAA8CN,KAA9C,CAAb;AACD,KAFD,MAEO,IAAIE,SAAJ,EAAe;AACpB,YAAKF,KAAL,CAAWO,QAAX,CAAoB,YAApB;AACD;;AACD,UAAKC,SAAL,GAAiBb,CAAC,CAAC,KAAD,YAAWG,SAAX,uBAAD,CACdW,GADc,CACV,OADU,EACDR,KADC,EAEdS,IAFc,EAAjB;;AAV2D,sCAAVC,QAAU;AAAVA,MAAAA,QAAU;AAAA;;AAc3D,qBAAKC,kBAAL,eAA2BD,QAA3B;;AAEA,UAAKE,QAAL,GAAgBlB,CAAC,CAAC,KAAD,YAAWG,SAAX,sBAAjB;;AACA,UAAKe,QAAL,CAAcC,EAAd,CAAiB,OAAjB,EAA0B,YAAM;AAC9B,UAAI,MAAKN,SAAL,CAAeC,GAAf,CAAmB,SAAnB,MAAkC,OAAtC,EAA+C;AAC7C,cAAKM,IAAL;AACD,OAFD,MAEO;AACL,cAAKL,IAAL;AACD;AACF,KAND,EAMGC,QANH,CAOE,MAAKX,KAPP,EAQEE,SAAS,GAAGP,CAAC,CAAC,KAAD,YAAWG,SAAX,uBAAD,CAA0CQ,KAA1C,CACVX,CAAC,CAAC,KAAD,YAAWG,SAAX,0BADS,CAAH,GAEL,EAVN;;AAYA,UAAKa,QAAL,CAAc,MAAKE,QAAnB,EAA6B,MAAKL,SAAlC;;AA7B2D;AA8B5D;;;;WAED,8BAAgC;AAC9B,WAAKA,SAAL,CAAeQ,IAAf,CAAoB,EAApB;;AACA,UAAI,UAASC,MAAT,GAAkB,CAAtB,EAAyB;AAAA;;AACvB,gCAAKT,SAAL,EAAeG,QAAf;AACD;AACF;;;WAED,kBAASX,KAAT,EAAgB;AACd,WAAKA,KAAL,CAAWgB,IAAX,CAAgBhB,KAAhB;AACA,WAAKU,IAAL;AACD;;;WAED,gBAAO;AAAA;;AAAA,UACGF,SADH,GACiB,IADjB,CACGA,SADH;AAELA,MAAAA,SAAS,CAACO,IAAV;AACA,WAAKG,MAAL,GAAcC,MAAd;AACAvB,MAAAA,gBAAgB,CAAC,KAAKsB,MAAL,EAAD,EAAgB,YAAM;AACpC,QAAA,MAAI,CAACR,IAAL;AACD,OAFe,CAAhB;AAGD;;;WAED,gBAAO;AACL,WAAKQ,MAAL,GAAcC,MAAd,CAAqB,KAArB;AACA,WAAKX,SAAL,CAAeE,IAAf;AACAb,MAAAA,kBAAkB,CAAC,KAAKqB,MAAL,EAAD,CAAlB;AACD;;;;EA1DmCxB,O;;SAAjBK,Q","sourcesContent":["import { Element, h } from './element';\r\nimport { bindClickoutside, unbindClickoutside } from './event';\r\nimport { cssPrefix } from '../config';\r\n\r\nexport default class Dropdown extends Element {\r\n  constructor(title, width, showArrow, placement, ...children) {\r\n    super('div', `${cssPrefix}-dropdown ${placement}`);\r\n    this.title = title;\r\n    this.change = () => {};\r\n    this.headerClick = () => {};\r\n    if (typeof title === 'string') {\r\n      this.title = h('div', `${cssPrefix}-dropdown-title`).child(title);\r\n    } else if (showArrow) {\r\n      this.title.addClass('arrow-left');\r\n    }\r\n    this.contentEl = h('div', `${cssPrefix}-dropdown-content`)\r\n      .css('width', width)\r\n      .hide();\r\n\r\n    this.setContentChildren(...children);\r\n\r\n    this.headerEl = h('div', `${cssPrefix}-dropdown-header`);\r\n    this.headerEl.on('click', () => {\r\n      if (this.contentEl.css('display') !== 'block') {\r\n        this.show();\r\n      } else {\r\n        this.hide();\r\n      }\r\n    }).children(\r\n      this.title,\r\n      showArrow ? h('div', `${cssPrefix}-icon arrow-right`).child(\r\n        h('div', `${cssPrefix}-icon-img arrow-down`),\r\n      ) : '',\r\n    );\r\n    this.children(this.headerEl, this.contentEl);\r\n  }\r\n\r\n  setContentChildren(...children) {\r\n    this.contentEl.html('');\r\n    if (children.length > 0) {\r\n      this.contentEl.children(...children);\r\n    }\r\n  }\r\n\r\n  setTitle(title) {\r\n    this.title.html(title);\r\n    this.hide();\r\n  }\r\n\r\n  show() {\r\n    const { contentEl } = this;\r\n    contentEl.show();\r\n    this.parent().active();\r\n    bindClickoutside(this.parent(), () => {\r\n      this.hide();\r\n    });\r\n  }\r\n\r\n  hide() {\r\n    this.parent().active(false);\r\n    this.contentEl.hide();\r\n    unbindClickoutside(this.parent());\r\n  }\r\n}\r\n"]}]}