{"remainingRequest":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\core\\col.js","dependencies":[{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\core\\col.js","mtime":1614915429359},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596536485880},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1606828682259},{"path":"D:\\代码\\del_demo\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1603719226989}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9cdTRFRTNcdTc4MDEvZGVsX2RlbW8vVmlzdWFsaXphdGlvbkV4Y2xlX0RlbW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGhlbHBlciBmcm9tICcuL2hlbHBlcic7Cgp2YXIgQ29scyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ29scyhfcmVmKSB7CiAgICB2YXIgbGVuID0gX3JlZi5sZW4sCiAgICAgICAgd2lkdGggPSBfcmVmLndpZHRoLAogICAgICAgIGluZGV4V2lkdGggPSBfcmVmLmluZGV4V2lkdGgsCiAgICAgICAgbWluV2lkdGggPSBfcmVmLm1pbldpZHRoOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xzKTsKCiAgICB0aGlzLl8gPSB7fTsKICAgIHRoaXMubGVuID0gbGVuOwogICAgdGhpcy53aWR0aCA9IHdpZHRoOwogICAgdGhpcy5pbmRleFdpZHRoID0gaW5kZXhXaWR0aDsKICAgIHRoaXMubWluV2lkdGggPSBtaW5XaWR0aDsKICB9CgogIF9jcmVhdGVDbGFzcyhDb2xzLCBbewogICAga2V5OiAic2V0RGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGF0YShkKSB7CiAgICAgIGlmIChkLmxlbikgewogICAgICAgIHRoaXMubGVuID0gZC5sZW47CiAgICAgICAgZGVsZXRlIGQubGVuOwogICAgICB9CgogICAgICB0aGlzLl8gPSBkOwogICAgfQogIH0sIHsKICAgIGtleTogImdldERhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBsZW4gPSB0aGlzLmxlbjsKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oewogICAgICAgIGxlbjogbGVuCiAgICAgIH0sIHRoaXMuXyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0V2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpZHRoKGkpIHsKICAgICAgaWYgKHRoaXMuaXNIaWRlKGkpKSByZXR1cm4gMDsKICAgICAgdmFyIGNvbCA9IHRoaXMuX1tpXTsKCiAgICAgIGlmIChjb2wgJiYgY29sLndpZHRoKSB7CiAgICAgICAgcmV0dXJuIGNvbC53aWR0aDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0T3JOZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9yTmV3KGNpKSB7CiAgICAgIHRoaXMuX1tjaV0gPSB0aGlzLl9bY2ldIHx8IHt9OwogICAgICByZXR1cm4gdGhpcy5fW2NpXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRXaWR0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0V2lkdGgoY2ksIHdpZHRoKSB7CiAgICAgIHZhciBjb2wgPSB0aGlzLmdldE9yTmV3KGNpKTsKICAgICAgY29sLndpZHRoID0gd2lkdGg7CiAgICB9CiAgfSwgewogICAga2V5OiAidW5oaWRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1bmhpZGUoaWR4KSB7CiAgICAgIHZhciBpbmRleCA9IGlkeDsKCiAgICAgIHdoaWxlIChpbmRleCA+IDApIHsKICAgICAgICBpbmRleCAtPSAxOwoKICAgICAgICBpZiAodGhpcy5pc0hpZGUoaW5kZXgpKSB7CiAgICAgICAgICB0aGlzLnNldEhpZGUoaW5kZXgsIGZhbHNlKTsKICAgICAgICB9IGVsc2UgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0hpZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzSGlkZShjaSkgewogICAgICB2YXIgY29sID0gdGhpcy5fW2NpXTsKICAgICAgcmV0dXJuIGNvbCAmJiBjb2wuaGlkZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRIaWRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRIaWRlKGNpLCB2KSB7CiAgICAgIHZhciBjb2wgPSB0aGlzLmdldE9yTmV3KGNpKTsKICAgICAgaWYgKHYgPT09IHRydWUpIGNvbC5oaWRlID0gdHJ1ZTtlbHNlIGRlbGV0ZSBjb2wuaGlkZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRTdHlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3R5bGUoY2ksIHN0eWxlKSB7CiAgICAgIHZhciBjb2wgPSB0aGlzLmdldE9yTmV3KGNpKTsKICAgICAgY29sLnN0eWxlID0gc3R5bGU7CiAgICB9CiAgfSwgewogICAga2V5OiAic3VtV2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN1bVdpZHRoKG1pbiwgbWF4KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gaGVscGVyLnJhbmdlU3VtKG1pbiwgbWF4LCBmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBfdGhpcy5nZXRXaWR0aChpKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidG90YWxXaWR0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG90YWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3VtV2lkdGgoMCwgdGhpcy5sZW4pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvbHM7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IHt9OwpleHBvcnQgeyBDb2xzIH07"},{"version":3,"sources":["D:/代码/del_demo/VisualizationExcle_Demo/src/components/x-spreadsheet/core/col.js"],"names":["helper","Cols","len","width","indexWidth","minWidth","_","d","Object","assign","i","isHide","col","ci","getOrNew","idx","index","setHide","hide","v","style","min","max","rangeSum","getWidth","sumWidth"],"mappings":"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","sourcesContent":["import helper from './helper';\r\n\r\nclass Cols {\r\n  constructor({\r\n    len, width, indexWidth, minWidth,\r\n  }) {\r\n    this._ = {};\r\n    this.len = len;\r\n    this.width = width;\r\n    this.indexWidth = indexWidth;\r\n    this.minWidth = minWidth;\r\n  }\r\n\r\n  setData(d) {\r\n    if (d.len) {\r\n      this.len = d.len;\r\n      delete d.len;\r\n    }\r\n    this._ = d;\r\n  }\r\n\r\n  getData() {\r\n    const { len } = this;\r\n    return Object.assign({ len }, this._);\r\n  }\r\n\r\n  getWidth(i) {\r\n    if (this.isHide(i)) return 0;\r\n    const col = this._[i];\r\n    if (col && col.width) {\r\n      return col.width;\r\n    }\r\n    return this.width;\r\n  }\r\n\r\n  getOrNew(ci) {\r\n    this._[ci] = this._[ci] || {};\r\n    return this._[ci];\r\n  }\r\n\r\n  setWidth(ci, width) {\r\n    const col = this.getOrNew(ci);\r\n    col.width = width;\r\n  }\r\n\r\n  unhide(idx) {\r\n    let index = idx;\r\n    while (index > 0) {\r\n      index -= 1;\r\n      if (this.isHide(index)) {\r\n        this.setHide(index, false);\r\n      } else break;\r\n    }\r\n  }\r\n\r\n  isHide(ci) {\r\n    const col = this._[ci];\r\n    return col && col.hide;\r\n  }\r\n\r\n  setHide(ci, v) {\r\n    const col = this.getOrNew(ci);\r\n    if (v === true) col.hide = true;\r\n    else delete col.hide;\r\n  }\r\n\r\n  setStyle(ci, style) {\r\n    const col = this.getOrNew(ci);\r\n    col.style = style;\r\n  }\r\n\r\n  sumWidth(min, max) {\r\n    return helper.rangeSum(min, max, i => this.getWidth(i));\r\n  }\r\n\r\n  totalWidth() {\r\n    return this.sumWidth(0, this.len);\r\n  }\r\n}\r\n\r\nexport default {};\r\nexport {\r\n  Cols,\r\n};\r\n"]}]}