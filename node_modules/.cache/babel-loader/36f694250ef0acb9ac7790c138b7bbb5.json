{"remainingRequest":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\selector.js","dependencies":[{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\selector.js","mtime":1615364198201},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1615364186494},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1615364186192},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1615364189991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9cdTU0MzRcdTVFRkFcdTY2MEUvRGVza3RvcC9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1VzZXJzL1x1NTQzNFx1NUVGQVx1NjYwRS9EZXNrdG9wL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCB7IGggfSBmcm9tICcuL2VsZW1lbnQnOwppbXBvcnQgeyBjc3NQcmVmaXggfSBmcm9tICcuLi9jb25maWcnOwppbXBvcnQgeyBDZWxsUmFuZ2UgfSBmcm9tICcuLi9jb3JlL2NlbGxfcmFuZ2UnOwp2YXIgc2VsZWN0b3JIZWlnaHRCb3JkZXJXaWR0aCA9IDIgKiAyIC0gMTsKdmFyIHN0YXJ0WkluZGV4ID0gMTA7Cgp2YXIgU2VsZWN0b3JFbGVtZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTZWxlY3RvckVsZW1lbnQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciB1c2VIaWRlSW5wdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3RvckVsZW1lbnQpOwoKICAgIHRoaXMudXNlSGlkZUlucHV0ID0gdXNlSGlkZUlucHV0OwoKICAgIHRoaXMuaW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7fTsKCiAgICB0aGlzLmNvcm5lckVsID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1zZWxlY3Rvci1jb3JuZXIiKSk7CiAgICB0aGlzLmFyZWFFbCA9IGgoJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItc2VsZWN0b3ItYXJlYSIpKS5jaGlsZCh0aGlzLmNvcm5lckVsKS5oaWRlKCk7CiAgICB0aGlzLmNsaXBib2FyZEVsID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1zZWxlY3Rvci1jbGlwYm9hcmQiKSkuaGlkZSgpOwogICAgdGhpcy5hdXRvZmlsbEVsID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1zZWxlY3Rvci1hdXRvZmlsbCIpKS5oaWRlKCk7CiAgICB0aGlzLmVsID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1zZWxlY3RvciIpKS5jc3MoJ3otaW5kZXgnLCAiIi5jb25jYXQoc3RhcnRaSW5kZXgpKS5jaGlsZHJlbih0aGlzLmFyZWFFbCwgdGhpcy5jbGlwYm9hcmRFbCwgdGhpcy5hdXRvZmlsbEVsKS5oaWRlKCk7CgogICAgaWYgKHVzZUhpZGVJbnB1dCkgewogICAgICB0aGlzLmhpZGVJbnB1dCA9IGgoJ2lucHV0JywgJycpLm9uKCdjb21wb3NpdGlvbmVuZCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBfdGhpcy5pbnB1dENoYW5nZShldnQudGFyZ2V0LnZhbHVlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZWwuY2hpbGQodGhpcy5oaWRlSW5wdXREaXYgPSBoKCdkaXYnLCAnaGlkZS1pbnB1dCcpLmNoaWxkKHRoaXMuaGlkZUlucHV0KSk7CiAgICAgIHRoaXMuZWwuY2hpbGQodGhpcy5oaWRlSW5wdXREaXYgPSBoKCdkaXYnLCAnaGlkZS1pbnB1dCcpLmNoaWxkKHRoaXMuaGlkZUlucHV0KSk7CiAgICB9CgogICAgc3RhcnRaSW5kZXggKz0gMTsKICB9CgogIF9jcmVhdGVDbGFzcyhTZWxlY3RvckVsZW1lbnQsIFt7CiAgICBrZXk6ICJzZXRPZmZzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9mZnNldCh2KSB7CiAgICAgIHRoaXMuZWwub2Zmc2V0KHYpLnNob3coKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdGhpcy5lbC5oaWRlKCk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogInNldEFyZWFPZmZzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFyZWFPZmZzZXQodikgewogICAgICB2YXIgbGVmdCA9IHYubGVmdCwKICAgICAgICAgIHRvcCA9IHYudG9wLAogICAgICAgICAgd2lkdGggPSB2LndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gdi5oZWlnaHQ7CiAgICAgIHZhciBvZiA9IHsKICAgICAgICB3aWR0aDogd2lkdGggLSBzZWxlY3RvckhlaWdodEJvcmRlcldpZHRoICsgMC44LAogICAgICAgIGhlaWdodDogaGVpZ2h0IC0gc2VsZWN0b3JIZWlnaHRCb3JkZXJXaWR0aCArIDAuOCwKICAgICAgICBsZWZ0OiBsZWZ0IC0gMC44LAogICAgICAgIHRvcDogdG9wIC0gMC44CiAgICAgIH07CiAgICAgIHRoaXMuYXJlYUVsLm9mZnNldChvZikuc2hvdygpOwoKICAgICAgaWYgKHRoaXMudXNlSGlkZUlucHV0KSB7CiAgICAgICAgdGhpcy5oaWRlSW5wdXREaXYub2Zmc2V0KG9mKTsKICAgICAgICB0aGlzLmhpZGVJbnB1dC52YWwoJycpLmZvY3VzKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRDbGlwYm9hcmRPZmZzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsaXBib2FyZE9mZnNldCh2KSB7CiAgICAgIHZhciBsZWZ0ID0gdi5sZWZ0LAogICAgICAgICAgdG9wID0gdi50b3AsCiAgICAgICAgICB3aWR0aCA9IHYud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSB2LmhlaWdodDsKICAgICAgdGhpcy5jbGlwYm9hcmRFbC5vZmZzZXQoewogICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgdG9wOiB0b3AsCiAgICAgICAgd2lkdGg6IHdpZHRoIC0gNSwKICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIDUKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd0F1dG9maWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93QXV0b2ZpbGwodikgewogICAgICB2YXIgbGVmdCA9IHYubGVmdCwKICAgICAgICAgIHRvcCA9IHYudG9wLAogICAgICAgICAgd2lkdGggPSB2LndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gdi5oZWlnaHQ7CiAgICAgIHRoaXMuYXV0b2ZpbGxFbC5vZmZzZXQoewogICAgICAgIHdpZHRoOiB3aWR0aCAtIHNlbGVjdG9ySGVpZ2h0Qm9yZGVyV2lkdGgsCiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSBzZWxlY3RvckhlaWdodEJvcmRlcldpZHRoLAogICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgdG9wOiB0b3AKICAgICAgfSkuc2hvdygpOwogICAgfQogIH0sIHsKICAgIGtleTogImhpZGVBdXRvZmlsbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUF1dG9maWxsKCkgewogICAgICB0aGlzLmF1dG9maWxsRWwuaGlkZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogInNob3dDbGlwYm9hcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dDbGlwYm9hcmQoKSB7CiAgICAgIHRoaXMuY2xpcGJvYXJkRWwuc2hvdygpOwogICAgfQogIH0sIHsKICAgIGtleTogImhpZGVDbGlwYm9hcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVDbGlwYm9hcmQoKSB7CiAgICAgIHRoaXMuY2xpcGJvYXJkRWwuaGlkZSgpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNlbGVjdG9yRWxlbWVudDsKfSgpOwoKZnVuY3Rpb24gY2FsQlJBcmVhT2Zmc2V0KG9mZnNldCkgewogIHZhciBkYXRhID0gdGhpcy5kYXRhOwogIHZhciBsZWZ0ID0gb2Zmc2V0LmxlZnQsCiAgICAgIHRvcCA9IG9mZnNldC50b3AsCiAgICAgIHdpZHRoID0gb2Zmc2V0LndpZHRoLAogICAgICBoZWlnaHQgPSBvZmZzZXQuaGVpZ2h0LAogICAgICBzY3JvbGwgPSBvZmZzZXQuc2Nyb2xsLAogICAgICBsID0gb2Zmc2V0LmwsCiAgICAgIHQgPSBvZmZzZXQudDsKICB2YXIgZnR3aWR0aCA9IGRhdGEuZnJlZXplVG90YWxXaWR0aCgpOwogIHZhciBmdGhlaWdodCA9IGRhdGEuZnJlZXplVG90YWxIZWlnaHQoKTsKICB2YXIgbGVmdDAgPSBsZWZ0IC0gZnR3aWR0aDsKICBpZiAoZnR3aWR0aCA+IGwpIGxlZnQwIC09IHNjcm9sbC54OwogIHZhciB0b3AwID0gdG9wIC0gZnRoZWlnaHQ7CiAgaWYgKGZ0aGVpZ2h0ID4gdCkgdG9wMCAtPSBzY3JvbGwueTsKICByZXR1cm4gewogICAgbGVmdDogbGVmdDAsCiAgICB0b3A6IHRvcDAsCiAgICB3aWR0aDogd2lkdGgsCiAgICBoZWlnaHQ6IGhlaWdodAogIH07Cn0KCmZ1bmN0aW9uIGNhbFRBcmVhT2Zmc2V0KG9mZnNldCkgewogIHZhciBkYXRhID0gdGhpcy5kYXRhOwogIHZhciBsZWZ0ID0gb2Zmc2V0LmxlZnQsCiAgICAgIHdpZHRoID0gb2Zmc2V0LndpZHRoLAogICAgICBoZWlnaHQgPSBvZmZzZXQuaGVpZ2h0LAogICAgICBsID0gb2Zmc2V0LmwsCiAgICAgIHQgPSBvZmZzZXQudCwKICAgICAgc2Nyb2xsID0gb2Zmc2V0LnNjcm9sbDsKICB2YXIgZnR3aWR0aCA9IGRhdGEuZnJlZXplVG90YWxXaWR0aCgpOwogIHZhciBsZWZ0MCA9IGxlZnQgLSBmdHdpZHRoOwogIGlmIChmdHdpZHRoID4gbCkgbGVmdDAgLT0gc2Nyb2xsLng7CiAgcmV0dXJuIHsKICAgIGxlZnQ6IGxlZnQwLAogICAgdG9wOiB0LAogICAgd2lkdGg6IHdpZHRoLAogICAgaGVpZ2h0OiBoZWlnaHQKICB9Owp9CgpmdW5jdGlvbiBjYWxMQXJlYU9mZnNldChvZmZzZXQpIHsKICB2YXIgZGF0YSA9IHRoaXMuZGF0YTsKICB2YXIgdG9wID0gb2Zmc2V0LnRvcCwKICAgICAgd2lkdGggPSBvZmZzZXQud2lkdGgsCiAgICAgIGhlaWdodCA9IG9mZnNldC5oZWlnaHQsCiAgICAgIGwgPSBvZmZzZXQubCwKICAgICAgdCA9IG9mZnNldC50LAogICAgICBzY3JvbGwgPSBvZmZzZXQuc2Nyb2xsOwogIHZhciBmdGhlaWdodCA9IGRhdGEuZnJlZXplVG90YWxIZWlnaHQoKTsKICB2YXIgdG9wMCA9IHRvcCAtIGZ0aGVpZ2h0OyAvLyBjb25zb2xlLmxvZygnZnRoZWlnaHQ6JywgZnRoZWlnaHQsICcsIHQ6JywgdCk7CgogIGlmIChmdGhlaWdodCA+IHQpIHRvcDAgLT0gc2Nyb2xsLnk7CiAgcmV0dXJuIHsKICAgIGxlZnQ6IGwsCiAgICB0b3A6IHRvcDAsCiAgICB3aWR0aDogd2lkdGgsCiAgICBoZWlnaHQ6IGhlaWdodAogIH07Cn0KCmZ1bmN0aW9uIHNldEJSQXJlYU9mZnNldChvZmZzZXQpIHsKICB2YXIgYnIgPSB0aGlzLmJyOwogIGJyLnNldEFyZWFPZmZzZXQoY2FsQlJBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KSk7Cn0KCmZ1bmN0aW9uIHNldFRMQXJlYU9mZnNldChvZmZzZXQpIHsKICB2YXIgdGwgPSB0aGlzLnRsOwogIHRsLnNldEFyZWFPZmZzZXQob2Zmc2V0KTsKfQoKZnVuY3Rpb24gc2V0VEFyZWFPZmZzZXQob2Zmc2V0KSB7CiAgdmFyIHQgPSB0aGlzLnQ7CiAgdC5zZXRBcmVhT2Zmc2V0KGNhbFRBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KSk7Cn0KCmZ1bmN0aW9uIHNldExBcmVhT2Zmc2V0KG9mZnNldCkgewogIHZhciBsID0gdGhpcy5sOwogIGwuc2V0QXJlYU9mZnNldChjYWxMQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCkpOwp9CgpmdW5jdGlvbiBzZXRMQ2xpcGJvYXJkT2Zmc2V0KG9mZnNldCkgewogIHZhciBsID0gdGhpcy5sOwogIGwuc2V0Q2xpcGJvYXJkT2Zmc2V0KGNhbExBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KSk7Cn0KCmZ1bmN0aW9uIHNldEJSQ2xpcGJvYXJkT2Zmc2V0KG9mZnNldCkgewogIHZhciBiciA9IHRoaXMuYnI7CiAgYnIuc2V0Q2xpcGJvYXJkT2Zmc2V0KGNhbEJSQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCkpOwp9CgpmdW5jdGlvbiBzZXRUTENsaXBib2FyZE9mZnNldChvZmZzZXQpIHsKICB2YXIgdGwgPSB0aGlzLnRsOwogIHRsLnNldENsaXBib2FyZE9mZnNldChvZmZzZXQpOwp9CgpmdW5jdGlvbiBzZXRUQ2xpcGJvYXJkT2Zmc2V0KG9mZnNldCkgewogIHZhciB0ID0gdGhpcy50OwogIHQuc2V0Q2xpcGJvYXJkT2Zmc2V0KGNhbFRBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KSk7Cn0KCmZ1bmN0aW9uIHNldEFsbEFyZWFPZmZzZXQob2Zmc2V0KSB7CiAgc2V0QlJBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KTsKICBzZXRUTEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogIHNldFRBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KTsKICBzZXRMQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7Cn0KCmZ1bmN0aW9uIHNldEFsbENsaXBib2FyZE9mZnNldChvZmZzZXQpIHsKICBzZXRCUkNsaXBib2FyZE9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7CiAgc2V0VExDbGlwYm9hcmRPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogIHNldFRDbGlwYm9hcmRPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogIHNldExDbGlwYm9hcmRPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwp9Cgp2YXIgU2VsZWN0b3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNlbGVjdG9yKGRhdGEpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3Rvcik7CgogICAgdGhpcy5pbnB1dENoYW5nZSA9IGZ1bmN0aW9uICgpIHt9OwoKICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICB0aGlzLmJyID0gbmV3IFNlbGVjdG9yRWxlbWVudCh0cnVlKTsKICAgIHRoaXMudCA9IG5ldyBTZWxlY3RvckVsZW1lbnQoKTsKICAgIHRoaXMubCA9IG5ldyBTZWxlY3RvckVsZW1lbnQoKTsKICAgIHRoaXMudGwgPSBuZXcgU2VsZWN0b3JFbGVtZW50KCk7CgogICAgdGhpcy5ici5pbnB1dENoYW5nZSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgIF90aGlzMi5pbnB1dENoYW5nZSh2KTsKICAgIH07CgogICAgdGhpcy5ici5lbC5zaG93KCk7CiAgICB0aGlzLm9mZnNldCA9IG51bGw7CiAgICB0aGlzLmFyZWFPZmZzZXQgPSBudWxsOwogICAgdGhpcy5pbmRleGVzID0gbnVsbDsKICAgIHRoaXMucmFuZ2UgPSBudWxsOwogICAgdGhpcy5hcmFuZ2UgPSBudWxsOwogICAgdGhpcy5lbCA9IGgoJ2RpdicsICIiLmNvbmNhdChjc3NQcmVmaXgsICItc2VsZWN0b3JzIikpLmNoaWxkcmVuKHRoaXMudGwuZWwsIHRoaXMudC5lbCwgdGhpcy5sLmVsLCB0aGlzLmJyLmVsKS5oaWRlKCk7IC8vIGZvciBwZXJmb3JtYW5jZQoKICAgIHRoaXMubGFzdHJpID0gLTE7CiAgICB0aGlzLmxhc3RjaSA9IC0xOwogICAgc3RhcnRaSW5kZXggKz0gMTsKICB9CgogIF9jcmVhdGVDbGFzcyhTZWxlY3RvciwgW3sKICAgIGtleTogInJlc2V0RGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXREYXRhKGRhdGEpIHsKICAgICAgdGhpcy5kYXRhID0gZGF0YTsKICAgICAgdGhpcy5yYW5nZSA9IGRhdGEuc2VsZWN0b3IucmFuZ2U7CiAgICAgIHRoaXMucmVzZXRBcmVhT2Zmc2V0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdGhpcy5lbC5oaWRlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRPZmZzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0T2Zmc2V0KCkgewogICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YSwKICAgICAgICAgIHRsID0gdGhpcy50bCwKICAgICAgICAgIHQgPSB0aGlzLnQsCiAgICAgICAgICBsID0gdGhpcy5sLAogICAgICAgICAgYnIgPSB0aGlzLmJyOwogICAgICB2YXIgZnJlZXplSGVpZ2h0ID0gZGF0YS5mcmVlemVUb3RhbEhlaWdodCgpOwogICAgICB2YXIgZnJlZXplV2lkdGggPSBkYXRhLmZyZWV6ZVRvdGFsV2lkdGgoKTsKCiAgICAgIGlmIChmcmVlemVIZWlnaHQgPiAwIHx8IGZyZWV6ZVdpZHRoID4gMCkgewogICAgICAgIHRsLnNldE9mZnNldCh7CiAgICAgICAgICB3aWR0aDogZnJlZXplV2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IGZyZWV6ZUhlaWdodAogICAgICAgIH0pOwogICAgICAgIHQuc2V0T2Zmc2V0KHsKICAgICAgICAgIGxlZnQ6IGZyZWV6ZVdpZHRoLAogICAgICAgICAgaGVpZ2h0OiBmcmVlemVIZWlnaHQKICAgICAgICB9KTsKICAgICAgICBsLnNldE9mZnNldCh7CiAgICAgICAgICB0b3A6IGZyZWV6ZUhlaWdodCwKICAgICAgICAgIHdpZHRoOiBmcmVlemVXaWR0aAogICAgICAgIH0pOwogICAgICAgIGJyLnNldE9mZnNldCh7CiAgICAgICAgICBsZWZ0OiBmcmVlemVXaWR0aCwKICAgICAgICAgIHRvcDogZnJlZXplSGVpZ2h0CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGwuaGlkZSgpOwogICAgICAgIHQuaGlkZSgpOwogICAgICAgIGwuaGlkZSgpOwogICAgICAgIGJyLnNldE9mZnNldCh7CiAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgdG9wOiAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNldEFyZWFPZmZzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0QXJlYU9mZnNldCgpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ29mZnNldDonLCBvZmZzZXQpOwogICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5kYXRhLmdldFNlbGVjdGVkUmVjdCgpOwogICAgICB2YXIgY29mZnNldCA9IHRoaXMuZGF0YS5nZXRDbGlwYm9hcmRSZWN0KCk7CiAgICAgIHNldEFsbEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogICAgICBzZXRBbGxDbGlwYm9hcmRPZmZzZXQuY2FsbCh0aGlzLCBjb2Zmc2V0KTsKICAgICAgdGhpcy5yZXNldE9mZnNldCgpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlc2V0QlJUQXJlYU9mZnNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRCUlRBcmVhT2Zmc2V0KCkgewogICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5kYXRhLmdldFNlbGVjdGVkUmVjdCgpOwogICAgICB2YXIgY29mZnNldCA9IHRoaXMuZGF0YS5nZXRDbGlwYm9hcmRSZWN0KCk7CiAgICAgIHNldEJSQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCk7CiAgICAgIHNldFRBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KTsKICAgICAgc2V0QlJDbGlwYm9hcmRPZmZzZXQuY2FsbCh0aGlzLCBjb2Zmc2V0KTsKICAgICAgc2V0VENsaXBib2FyZE9mZnNldC5jYWxsKHRoaXMsIGNvZmZzZXQpOwogICAgICB0aGlzLnJlc2V0T2Zmc2V0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRCUkxBcmVhT2Zmc2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldEJSTEFyZWFPZmZzZXQoKSB7CiAgICAgIHZhciBvZmZzZXQgPSB0aGlzLmRhdGEuZ2V0U2VsZWN0ZWRSZWN0KCk7CiAgICAgIHZhciBjb2Zmc2V0ID0gdGhpcy5kYXRhLmdldENsaXBib2FyZFJlY3QoKTsKICAgICAgc2V0QlJBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KTsKICAgICAgc2V0TEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpOwogICAgICBzZXRCUkNsaXBib2FyZE9mZnNldC5jYWxsKHRoaXMsIGNvZmZzZXQpOwogICAgICBzZXRMQ2xpcGJvYXJkT2Zmc2V0LmNhbGwodGhpcywgY29mZnNldCk7CiAgICAgIHRoaXMucmVzZXRPZmZzZXQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldChyaSwgY2kpIHsKICAgICAgdmFyIGluZGV4ZXNVcGRhdGVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0cnVlOwogICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTsKICAgICAgdmFyIGNlbGxSYW5nZSA9IGRhdGEuY2FsU2VsZWN0ZWRSYW5nZUJ5U3RhcnQocmksIGNpKTsKICAgICAgdmFyIHNyaSA9IGNlbGxSYW5nZS5zcmksCiAgICAgICAgICBzY2kgPSBjZWxsUmFuZ2Uuc2NpOwoKICAgICAgaWYgKGluZGV4ZXNVcGRhdGVkKSB7CiAgICAgICAgdmFyIGNyaSA9IHJpLAogICAgICAgICAgICBjY2kgPSBjaTsKICAgICAgICBpZiAocmkgPCAwKSBjcmkgPSAwOwogICAgICAgIGlmIChjaSA8IDApIGNjaSA9IDA7CiAgICAgICAgZGF0YS5zZWxlY3Rvci5zZXRJbmRleGVzKGNyaSwgY2NpKTsKICAgICAgICB0aGlzLmluZGV4ZXMgPSBbY3JpLCBjY2ldOwogICAgICB9CgogICAgICB0aGlzLm1vdmVJbmRleGVzID0gW3NyaSwgc2NpXTsgLy8gdGhpcy5zSW5kZXhlcyA9IHNJbmRleGVzOwogICAgICAvLyB0aGlzLmVJbmRleGVzID0gZUluZGV4ZXM7CgogICAgICB0aGlzLnJhbmdlID0gY2VsbFJhbmdlOwogICAgICB0aGlzLnJlc2V0QXJlYU9mZnNldCgpOwogICAgICB0aGlzLmVsLnNob3coKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRFbmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEVuZChyaSwgY2kpIHsKICAgICAgdmFyIG1vdmluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEsCiAgICAgICAgICBsYXN0cmkgPSB0aGlzLmxhc3RyaSwKICAgICAgICAgIGxhc3RjaSA9IHRoaXMubGFzdGNpOwoKICAgICAgaWYgKG1vdmluZykgewogICAgICAgIGlmIChyaSA9PT0gbGFzdHJpICYmIGNpID09PSBsYXN0Y2kpIHJldHVybjsKICAgICAgICB0aGlzLmxhc3RyaSA9IHJpOwogICAgICAgIHRoaXMubGFzdGNpID0gY2k7CiAgICAgIH0KCiAgICAgIHRoaXMucmFuZ2UgPSBkYXRhLmNhbFNlbGVjdGVkUmFuZ2VCeUVuZChyaSwgY2kpOwogICAgICBzZXRBbGxBcmVhT2Zmc2V0LmNhbGwodGhpcywgdGhpcy5kYXRhLmdldFNlbGVjdGVkUmVjdCgpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCc6Ojo6JywgdGhpcy5kYXRhKTsKICAgICAgdmFyIF90aGlzJGRhdGEkc2VsZWN0b3IkciA9IHRoaXMuZGF0YS5zZWxlY3Rvci5yYW5nZSwKICAgICAgICAgIGVyaSA9IF90aGlzJGRhdGEkc2VsZWN0b3Ikci5lcmksCiAgICAgICAgICBlY2kgPSBfdGhpcyRkYXRhJHNlbGVjdG9yJHIuZWNpOwogICAgICB0aGlzLnNldEVuZChlcmksIGVjaSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd0F1dG9maWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93QXV0b2ZpbGwocmksIGNpKSB7CiAgICAgIGlmIChyaSA9PT0gLTEgJiYgY2kgPT09IC0xKSByZXR1cm47IC8vIGNvbnNvbGUubG9nKCdyaTonLCByaSwgJywgY2k6JywgY2kpOwogICAgICAvLyBjb25zdCBbc3JpLCBzY2ldID0gdGhpcy5zSW5kZXhlczsKICAgICAgLy8gY29uc3QgW2VyaSwgZWNpXSA9IHRoaXMuZUluZGV4ZXM7CgogICAgICB2YXIgX3RoaXMkcmFuZ2UgPSB0aGlzLnJhbmdlLAogICAgICAgICAgc3JpID0gX3RoaXMkcmFuZ2Uuc3JpLAogICAgICAgICAgc2NpID0gX3RoaXMkcmFuZ2Uuc2NpLAogICAgICAgICAgZXJpID0gX3RoaXMkcmFuZ2UuZXJpLAogICAgICAgICAgZWNpID0gX3RoaXMkcmFuZ2UuZWNpOwogICAgICB2YXIgbnJpID0gcmksCiAgICAgICAgICBuY2kgPSBjaTsgLy8gY29uc3Qgcm4gPSBlcmkgLSBzcmk7CiAgICAgIC8vIGNvbnN0IGNuID0gZWNpIC0gc2NpOwoKICAgICAgdmFyIHNybiA9IHNyaSAtIHJpOwogICAgICB2YXIgc2NuID0gc2NpIC0gY2k7CiAgICAgIHZhciBlcm4gPSBlcmkgLSByaTsKICAgICAgdmFyIGVjbiA9IGVjaSAtIGNpOwoKICAgICAgaWYgKHNjbiA+IDApIHsKICAgICAgICAvLyBsZWZ0CiAgICAgICAgLy8gY29uc29sZS5sb2coJ2xlZnQnKTsKICAgICAgICB0aGlzLmFyYW5nZSA9IG5ldyBDZWxsUmFuZ2Uoc3JpLCBuY2ksIGVyaSwgc2NpIC0gMSk7IC8vIHRoaXMuc2FJbmRleGVzID0gW3NyaSwgbmNpXTsKICAgICAgICAvLyB0aGlzLmVhSW5kZXhlcyA9IFtlcmksIHNjaSAtIDFdOwogICAgICAgIC8vIGRhdGEuY2FsUmFuZ2VJbmRleGVzMigKICAgICAgfSBlbHNlIGlmIChzcm4gPiAwKSB7CiAgICAgICAgLy8gdG9wCiAgICAgICAgLy8gY29uc29sZS5sb2coJ3RvcCcpOwogICAgICAgIC8vIG5yaSA9IHNyaTsKICAgICAgICB0aGlzLmFyYW5nZSA9IG5ldyBDZWxsUmFuZ2UobnJpLCBzY2ksIHNyaSAtIDEsIGVjaSk7IC8vIHRoaXMuc2FJbmRleGVzID0gW25yaSwgc2NpXTsKICAgICAgICAvLyB0aGlzLmVhSW5kZXhlcyA9IFtzcmkgLSAxLCBlY2ldOwogICAgICB9IGVsc2UgaWYgKGVjbiA8IDApIHsKICAgICAgICAvLyByaWdodAogICAgICAgIC8vIGNvbnNvbGUubG9nKCdyaWdodCcpOwogICAgICAgIC8vIG5jaSA9IGVjaTsKICAgICAgICB0aGlzLmFyYW5nZSA9IG5ldyBDZWxsUmFuZ2Uoc3JpLCBlY2kgKyAxLCBlcmksIG5jaSk7IC8vIHRoaXMuc2FJbmRleGVzID0gW3NyaSwgZWNpICsgMV07CiAgICAgICAgLy8gdGhpcy5lYUluZGV4ZXMgPSBbZXJpLCBuY2ldOwogICAgICB9IGVsc2UgaWYgKGVybiA8IDApIHsKICAgICAgICAvLyBib3R0b20KICAgICAgICAvLyBjb25zb2xlLmxvZygnYm90dG9tJyk7CiAgICAgICAgLy8gbnJpID0gZXJpOwogICAgICAgIHRoaXMuYXJhbmdlID0gbmV3IENlbGxSYW5nZShlcmkgKyAxLCBzY2ksIG5yaSwgZWNpKTsgLy8gdGhpcy5zYUluZGV4ZXMgPSBbZXJpICsgMSwgc2NpXTsKICAgICAgICAvLyB0aGlzLmVhSW5kZXhlcyA9IFtucmksIGVjaV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ2Vsc2U6Jyk7CiAgICAgICAgdGhpcy5hcmFuZ2UgPSBudWxsOyAvLyB0aGlzLnNhSW5kZXhlcyA9IG51bGw7CiAgICAgICAgLy8gdGhpcy5lYUluZGV4ZXMgPSBudWxsOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmFyYW5nZSAhPT0gbnVsbCkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2FJbmRleGVzLCAnOicsIHRoaXMuZWFJbmRleGVzKTsKICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5kYXRhLmdldFJlY3QodGhpcy5hcmFuZ2UpOwogICAgICAgIG9mZnNldC53aWR0aCArPSAyOwogICAgICAgIG9mZnNldC5oZWlnaHQgKz0gMjsKICAgICAgICB2YXIgYnIgPSB0aGlzLmJyLAogICAgICAgICAgICBsID0gdGhpcy5sLAogICAgICAgICAgICB0ID0gdGhpcy50LAogICAgICAgICAgICB0bCA9IHRoaXMudGw7CiAgICAgICAgYnIuc2hvd0F1dG9maWxsKGNhbEJSQXJlYU9mZnNldC5jYWxsKHRoaXMsIG9mZnNldCkpOwogICAgICAgIGwuc2hvd0F1dG9maWxsKGNhbExBcmVhT2Zmc2V0LmNhbGwodGhpcywgb2Zmc2V0KSk7CiAgICAgICAgdC5zaG93QXV0b2ZpbGwoY2FsVEFyZWFPZmZzZXQuY2FsbCh0aGlzLCBvZmZzZXQpKTsKICAgICAgICB0bC5zaG93QXV0b2ZpbGwob2Zmc2V0KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImhpZGVBdXRvZmlsbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUF1dG9maWxsKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIFsnYnInLCAnbCcsICd0JywgJ3RsJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHsKICAgICAgICBfdGhpczNbcHJvcGVydHldLmhpZGVBdXRvZmlsbCgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG93Q2xpcGJvYXJkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93Q2xpcGJvYXJkKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBjb2Zmc2V0ID0gdGhpcy5kYXRhLmdldENsaXBib2FyZFJlY3QoKTsKICAgICAgc2V0QWxsQ2xpcGJvYXJkT2Zmc2V0LmNhbGwodGhpcywgY29mZnNldCk7CiAgICAgIFsnYnInLCAnbCcsICd0JywgJ3RsJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHsKICAgICAgICBfdGhpczRbcHJvcGVydHldLnNob3dDbGlwYm9hcmQoKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGlkZUNsaXBib2FyZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZUNsaXBib2FyZCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBbJ2JyJywgJ2wnLCAndCcsICd0bCddLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7CiAgICAgICAgX3RoaXM1W3Byb3BlcnR5XS5oaWRlQ2xpcGJvYXJkKCk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNlbGVjdG9yOwp9KCk7CgpleHBvcnQgeyBTZWxlY3RvciBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/吴建明/Desktop/VisualizationExcle_Demo/src/components/x-spreadsheet/component/selector.js"],"names":["h","cssPrefix","CellRange","selectorHeightBorderWidth","startZIndex","SelectorElement","useHideInput","inputChange","cornerEl","areaEl","child","hide","clipboardEl","autofillEl","el","css","children","hideInput","on","evt","target","value","hideInputDiv","v","offset","show","left","top","width","height","of","val","focus","calBRAreaOffset","data","scroll","l","t","ftwidth","freezeTotalWidth","ftheight","freezeTotalHeight","left0","x","top0","y","calTAreaOffset","calLAreaOffset","setBRAreaOffset","br","setAreaOffset","call","setTLAreaOffset","tl","setTAreaOffset","setLAreaOffset","setLClipboardOffset","setClipboardOffset","setBRClipboardOffset","setTLClipboardOffset","setTClipboardOffset","setAllAreaOffset","setAllClipboardOffset","Selector","areaOffset","indexes","range","arange","lastri","lastci","selector","resetAreaOffset","freezeHeight","freezeWidth","setOffset","getSelectedRect","coffset","getClipboardRect","resetOffset","ri","ci","indexesUpdated","cellRange","calSelectedRangeByStart","sri","sci","cri","cci","setIndexes","moveIndexes","moving","calSelectedRangeByEnd","eri","eci","setEnd","nri","nci","srn","scn","ern","ecn","getRect","showAutofill","forEach","property","hideAutofill","showClipboard","hideClipboard"],"mappings":"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","sourcesContent":["import { h } from './element';\r\nimport { cssPrefix } from '../config';\r\nimport { CellRange } from '../core/cell_range';\r\n\r\nconst selectorHeightBorderWidth = 2 * 2 - 1;\r\nlet startZIndex = 10;\r\n\r\nclass SelectorElement {\r\n  constructor(useHideInput = false) {\r\n    this.useHideInput = useHideInput;\r\n    this.inputChange = () => {};\r\n    this.cornerEl = h('div', `${cssPrefix}-selector-corner`);\r\n    this.areaEl = h('div', `${cssPrefix}-selector-area`)\r\n      .child(this.cornerEl).hide();\r\n    this.clipboardEl = h('div', `${cssPrefix}-selector-clipboard`).hide();\r\n    this.autofillEl = h('div', `${cssPrefix}-selector-autofill`).hide();\r\n    this.el = h('div', `${cssPrefix}-selector`)\r\n      .css('z-index', `${startZIndex}`)\r\n      .children(this.areaEl, this.clipboardEl, this.autofillEl)\r\n      .hide();\r\n    if (useHideInput) {\r\n      this.hideInput = h('input', '')\r\n        .on('compositionend', (evt) => {\r\n          this.inputChange(evt.target.value);\r\n        });\r\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\r\n      this.el.child(this.hideInputDiv = h('div', 'hide-input').child(this.hideInput));\r\n    }\r\n    startZIndex += 1;\r\n  }\r\n\r\n  setOffset(v) {\r\n    this.el.offset(v).show();\r\n    return this;\r\n  }\r\n\r\n  hide() {\r\n    this.el.hide();\r\n    return this;\r\n  }\r\n\r\n  setAreaOffset(v) {\r\n    const {\r\n      left, top, width, height,\r\n    } = v;\r\n    const of = {\r\n      width: width - selectorHeightBorderWidth + 0.8,\r\n      height: height - selectorHeightBorderWidth + 0.8,\r\n      left: left - 0.8,\r\n      top: top - 0.8,\r\n    };\r\n    this.areaEl.offset(of).show();\r\n    if (this.useHideInput) {\r\n      this.hideInputDiv.offset(of);\r\n      this.hideInput.val('').focus();\r\n    }\r\n  }\r\n\r\n  setClipboardOffset(v) {\r\n    const {\r\n      left, top, width, height,\r\n    } = v;\r\n    this.clipboardEl.offset({\r\n      left,\r\n      top,\r\n      width: width - 5,\r\n      height: height - 5,\r\n    });\r\n  }\r\n\r\n  showAutofill(v) {\r\n    const {\r\n      left, top, width, height,\r\n    } = v;\r\n    this.autofillEl.offset({\r\n      width: width - selectorHeightBorderWidth,\r\n      height: height - selectorHeightBorderWidth,\r\n      left,\r\n      top,\r\n    }).show();\r\n  }\r\n\r\n  hideAutofill() {\r\n    this.autofillEl.hide();\r\n  }\r\n\r\n  showClipboard() {\r\n    this.clipboardEl.show();\r\n  }\r\n\r\n  hideClipboard() {\r\n    this.clipboardEl.hide();\r\n  }\r\n}\r\n\r\nfunction calBRAreaOffset(offset) {\r\n  const { data } = this;\r\n  const {\r\n    left, top, width, height, scroll, l, t,\r\n  } = offset;\r\n  const ftwidth = data.freezeTotalWidth();\r\n  const ftheight = data.freezeTotalHeight();\r\n  let left0 = left - ftwidth;\r\n  if (ftwidth > l) left0 -= scroll.x;\r\n  let top0 = top - ftheight;\r\n  if (ftheight > t) top0 -= scroll.y;\r\n  return {\r\n    left: left0,\r\n    top: top0,\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nfunction calTAreaOffset(offset) {\r\n  const { data } = this;\r\n  const {\r\n    left, width, height, l, t, scroll,\r\n  } = offset;\r\n  const ftwidth = data.freezeTotalWidth();\r\n  let left0 = left - ftwidth;\r\n  if (ftwidth > l) left0 -= scroll.x;\r\n  return {\r\n    left: left0, top: t, width, height,\r\n  };\r\n}\r\n\r\nfunction calLAreaOffset(offset) {\r\n  const { data } = this;\r\n  const {\r\n    top, width, height, l, t, scroll,\r\n  } = offset;\r\n  const ftheight = data.freezeTotalHeight();\r\n  let top0 = top - ftheight;\r\n  // console.log('ftheight:', ftheight, ', t:', t);\r\n  if (ftheight > t) top0 -= scroll.y;\r\n  return {\r\n    left: l, top: top0, width, height,\r\n  };\r\n}\r\n\r\nfunction setBRAreaOffset(offset) {\r\n  const { br } = this;\r\n  br.setAreaOffset(calBRAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setTLAreaOffset(offset) {\r\n  const { tl } = this;\r\n  tl.setAreaOffset(offset);\r\n}\r\n\r\nfunction setTAreaOffset(offset) {\r\n  const { t } = this;\r\n  t.setAreaOffset(calTAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setLAreaOffset(offset) {\r\n  const { l } = this;\r\n  l.setAreaOffset(calLAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setLClipboardOffset(offset) {\r\n  const { l } = this;\r\n  l.setClipboardOffset(calLAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setBRClipboardOffset(offset) {\r\n  const { br } = this;\r\n  br.setClipboardOffset(calBRAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setTLClipboardOffset(offset) {\r\n  const { tl } = this;\r\n  tl.setClipboardOffset(offset);\r\n}\r\n\r\nfunction setTClipboardOffset(offset) {\r\n  const { t } = this;\r\n  t.setClipboardOffset(calTAreaOffset.call(this, offset));\r\n}\r\n\r\nfunction setAllAreaOffset(offset) {\r\n  setBRAreaOffset.call(this, offset);\r\n  setTLAreaOffset.call(this, offset);\r\n  setTAreaOffset.call(this, offset);\r\n  setLAreaOffset.call(this, offset);\r\n}\r\n\r\nfunction setAllClipboardOffset(offset) {\r\n  setBRClipboardOffset.call(this, offset);\r\n  setTLClipboardOffset.call(this, offset);\r\n  setTClipboardOffset.call(this, offset);\r\n  setLClipboardOffset.call(this, offset);\r\n}\r\n\r\nexport default class Selector {\r\n  constructor(data) {\r\n    this.inputChange = () => {};\r\n    this.data = data;\r\n    this.br = new SelectorElement(true);\r\n    this.t = new SelectorElement();\r\n    this.l = new SelectorElement();\r\n    this.tl = new SelectorElement();\r\n    this.br.inputChange = (v) => {\r\n      this.inputChange(v);\r\n    };\r\n    this.br.el.show();\r\n    this.offset = null;\r\n    this.areaOffset = null;\r\n    this.indexes = null;\r\n    this.range = null;\r\n    this.arange = null;\r\n    this.el = h('div', `${cssPrefix}-selectors`)\r\n      .children(\r\n        this.tl.el,\r\n        this.t.el,\r\n        this.l.el,\r\n        this.br.el,\r\n      ).hide();\r\n\r\n    // for performance\r\n    this.lastri = -1;\r\n    this.lastci = -1;\r\n\r\n    startZIndex += 1;\r\n  }\r\n\r\n  resetData(data) {\r\n    this.data = data;\r\n    this.range = data.selector.range;\r\n    this.resetAreaOffset();\r\n  }\r\n\r\n  hide() {\r\n    this.el.hide();\r\n  }\r\n\r\n  resetOffset() {\r\n    const {\r\n      data, tl, t, l, br,\r\n    } = this;\r\n    const freezeHeight = data.freezeTotalHeight();\r\n    const freezeWidth = data.freezeTotalWidth();\r\n    if (freezeHeight > 0 || freezeWidth > 0) {\r\n      tl.setOffset({ width: freezeWidth, height: freezeHeight });\r\n      t.setOffset({ left: freezeWidth, height: freezeHeight });\r\n      l.setOffset({ top: freezeHeight, width: freezeWidth });\r\n      br.setOffset({ left: freezeWidth, top: freezeHeight });\r\n    } else {\r\n      tl.hide();\r\n      t.hide();\r\n      l.hide();\r\n      br.setOffset({ left: 0, top: 0 });\r\n    }\r\n  }\r\n\r\n  resetAreaOffset() {\r\n    // console.log('offset:', offset);\r\n    const offset = this.data.getSelectedRect();\r\n    const coffset = this.data.getClipboardRect();\r\n    setAllAreaOffset.call(this, offset);\r\n    setAllClipboardOffset.call(this, coffset);\r\n    this.resetOffset();\r\n  }\r\n\r\n  resetBRTAreaOffset() {\r\n    const offset = this.data.getSelectedRect();\r\n    const coffset = this.data.getClipboardRect();\r\n    setBRAreaOffset.call(this, offset);\r\n    setTAreaOffset.call(this, offset);\r\n    setBRClipboardOffset.call(this, coffset);\r\n    setTClipboardOffset.call(this, coffset);\r\n    this.resetOffset();\r\n  }\r\n\r\n  resetBRLAreaOffset() {\r\n    const offset = this.data.getSelectedRect();\r\n    const coffset = this.data.getClipboardRect();\r\n    setBRAreaOffset.call(this, offset);\r\n    setLAreaOffset.call(this, offset);\r\n    setBRClipboardOffset.call(this, coffset);\r\n    setLClipboardOffset.call(this, coffset);\r\n    this.resetOffset();\r\n  }\r\n\r\n  set(ri, ci, indexesUpdated = true) {\r\n    const { data } = this;\r\n    const cellRange = data.calSelectedRangeByStart(ri, ci);\r\n    const { sri, sci } = cellRange;\r\n    if (indexesUpdated) {\r\n      let [cri, cci] = [ri, ci];\r\n      if (ri < 0) cri = 0;\r\n      if (ci < 0) cci = 0;\r\n      data.selector.setIndexes(cri, cci);\r\n      this.indexes = [cri, cci];\r\n    }\r\n\r\n    this.moveIndexes = [sri, sci];\r\n    // this.sIndexes = sIndexes;\r\n    // this.eIndexes = eIndexes;\r\n    this.range = cellRange;\r\n    this.resetAreaOffset();\r\n    this.el.show();\r\n  }\r\n\r\n  setEnd(ri, ci, moving = true) {\r\n    const { data, lastri, lastci } = this;\r\n    if (moving) {\r\n      if (ri === lastri && ci === lastci) return;\r\n      this.lastri = ri;\r\n      this.lastci = ci;\r\n    }\r\n    this.range = data.calSelectedRangeByEnd(ri, ci);\r\n    setAllAreaOffset.call(this, this.data.getSelectedRect());\r\n  }\r\n\r\n  reset() {\r\n    // console.log('::::', this.data);\r\n    const { eri, eci } = this.data.selector.range;\r\n    this.setEnd(eri, eci);\r\n  }\r\n\r\n  showAutofill(ri, ci) {\r\n    if (ri === -1 && ci === -1) return;\r\n    // console.log('ri:', ri, ', ci:', ci);\r\n    // const [sri, sci] = this.sIndexes;\r\n    // const [eri, eci] = this.eIndexes;\r\n    const {\r\n      sri, sci, eri, eci,\r\n    } = this.range;\r\n    const [nri, nci] = [ri, ci];\r\n    // const rn = eri - sri;\r\n    // const cn = eci - sci;\r\n    const srn = sri - ri;\r\n    const scn = sci - ci;\r\n    const ern = eri - ri;\r\n    const ecn = eci - ci;\r\n    if (scn > 0) {\r\n      // left\r\n      // console.log('left');\r\n      this.arange = new CellRange(sri, nci, eri, sci - 1);\r\n      // this.saIndexes = [sri, nci];\r\n      // this.eaIndexes = [eri, sci - 1];\r\n      // data.calRangeIndexes2(\r\n    } else if (srn > 0) {\r\n      // top\r\n      // console.log('top');\r\n      // nri = sri;\r\n      this.arange = new CellRange(nri, sci, sri - 1, eci);\r\n      // this.saIndexes = [nri, sci];\r\n      // this.eaIndexes = [sri - 1, eci];\r\n    } else if (ecn < 0) {\r\n      // right\r\n      // console.log('right');\r\n      // nci = eci;\r\n      this.arange = new CellRange(sri, eci + 1, eri, nci);\r\n      // this.saIndexes = [sri, eci + 1];\r\n      // this.eaIndexes = [eri, nci];\r\n    } else if (ern < 0) {\r\n      // bottom\r\n      // console.log('bottom');\r\n      // nri = eri;\r\n      this.arange = new CellRange(eri + 1, sci, nri, eci);\r\n      // this.saIndexes = [eri + 1, sci];\r\n      // this.eaIndexes = [nri, eci];\r\n    } else {\r\n      // console.log('else:');\r\n      this.arange = null;\r\n      // this.saIndexes = null;\r\n      // this.eaIndexes = null;\r\n      return;\r\n    }\r\n    if (this.arange !== null) {\r\n      // console.log(this.saIndexes, ':', this.eaIndexes);\r\n      const offset = this.data.getRect(this.arange);\r\n      offset.width += 2;\r\n      offset.height += 2;\r\n      const {\r\n        br, l, t, tl,\r\n      } = this;\r\n      br.showAutofill(calBRAreaOffset.call(this, offset));\r\n      l.showAutofill(calLAreaOffset.call(this, offset));\r\n      t.showAutofill(calTAreaOffset.call(this, offset));\r\n      tl.showAutofill(offset);\r\n    }\r\n  }\r\n\r\n  hideAutofill() {\r\n    ['br', 'l', 't', 'tl'].forEach((property) => {\r\n      this[property].hideAutofill();\r\n    });\r\n  }\r\n\r\n  showClipboard() {\r\n    const coffset = this.data.getClipboardRect();\r\n    setAllClipboardOffset.call(this, coffset);\r\n    ['br', 'l', 't', 'tl'].forEach((property) => {\r\n      this[property].showClipboard();\r\n    });\r\n  }\r\n\r\n  hideClipboard() {\r\n    ['br', 'l', 't', 'tl'].forEach((property) => {\r\n      this[property].hideClipboard();\r\n    });\r\n  }\r\n}\r\n"]}]}