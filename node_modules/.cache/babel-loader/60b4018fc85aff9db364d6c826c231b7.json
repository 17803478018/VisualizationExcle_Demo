{"remainingRequest":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\form_select.js","dependencies":[{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\src\\components\\x-spreadsheet\\component\\form_select.js","mtime":1616639586806},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616639573358},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1616639572994},{"path":"C:\\Users\\吴建明\\Desktop\\VisualizationExcle_Demo\\node_modules\\eslint-loader\\index.js","mtime":1616639576682}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9cdTU0MzRcdTVFRkFcdTY2MEUvRGVza3RvcC9WaXN1YWxpemF0aW9uRXhjbGVfRGVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L1VzZXJzL1x1NTQzNFx1NUVGQVx1NjYwRS9EZXNrdG9wL1Zpc3VhbGl6YXRpb25FeGNsZV9EZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCB7IGggfSBmcm9tICcuL2VsZW1lbnQnOwppbXBvcnQgU3VnZ2VzdCBmcm9tICcuL3N1Z2dlc3QnOwppbXBvcnQgeyBjc3NQcmVmaXggfSBmcm9tICcuLi9jb25maWcnOwoKdmFyIEZvcm1TZWxlY3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEZvcm1TZWxlY3Qoa2V5LCBpdGVtcywgd2lkdGgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGdldFRpdGxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmdW5jdGlvbiAoaXQpIHsKICAgICAgcmV0dXJuIGl0OwogICAgfTsKICAgIHZhciBjaGFuZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZ1bmN0aW9uICgpIHt9OwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb3JtU2VsZWN0KTsKCiAgICB0aGlzLmtleSA9IGtleTsKICAgIHRoaXMuZ2V0VGl0bGUgPSBnZXRUaXRsZTsKCiAgICB0aGlzLnZjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7fTsKCiAgICB0aGlzLmVsID0gaCgnZGl2JywgIiIuY29uY2F0KGNzc1ByZWZpeCwgIi1mb3JtLXNlbGVjdCIpKTsKICAgIHRoaXMuc3VnZ2VzdCA9IG5ldyBTdWdnZXN0KGl0ZW1zLm1hcChmdW5jdGlvbiAoaXQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBrZXk6IGl0LAogICAgICAgIHRpdGxlOiBfdGhpcy5nZXRUaXRsZShpdCkKICAgICAgfTsKICAgIH0pLCBmdW5jdGlvbiAoaXQpIHsKICAgICAgX3RoaXMuaXRlbUNsaWNrKGl0LmtleSk7CgogICAgICBjaGFuZ2UoaXQua2V5KTsKCiAgICAgIF90aGlzLnZjaGFuZ2UoaXQua2V5KTsKICAgIH0sIHdpZHRoLCB0aGlzLmVsKTsKICAgIHRoaXMuZWwuY2hpbGRyZW4odGhpcy5pdGVtRWwgPSBoKCdkaXYnLCAnaW5wdXQtdGV4dCcpLmh0bWwodGhpcy5nZXRUaXRsZShrZXkpKSwgdGhpcy5zdWdnZXN0LmVsKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5zaG93KCk7CiAgICB9KTsKICB9CgogIF9jcmVhdGVDbGFzcyhGb3JtU2VsZWN0LCBbewogICAga2V5OiAic2hvdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdGhpcy5zdWdnZXN0LnNlYXJjaCgnJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXRlbUNsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpdGVtQ2xpY2soaXQpIHsKICAgICAgdGhpcy5rZXkgPSBpdDsKICAgICAgdGhpcy5pdGVtRWwuaHRtbCh0aGlzLmdldFRpdGxlKGl0KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWwodikgewogICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5rZXkgPSB2OwogICAgICAgIHRoaXMuaXRlbUVsLmh0bWwodGhpcy5nZXRUaXRsZSh2KSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmtleTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGb3JtU2VsZWN0Owp9KCk7CgpleHBvcnQgeyBGb3JtU2VsZWN0IGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/吴建明/Desktop/VisualizationExcle_Demo/src/components/x-spreadsheet/component/form_select.js"],"names":["h","Suggest","cssPrefix","FormSelect","key","items","width","getTitle","it","change","vchange","el","suggest","map","title","itemClick","children","itemEl","html","on","show","search","v","undefined"],"mappings":";;;;;AAAA,SAASA,CAAT,QAAkB,WAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,SAAT,QAA0B,WAA1B;;IAEqBC,U;AACnB,sBAAYC,GAAZ,EAAiBC,KAAjB,EAAwBC,KAAxB,EAAuE;AAAA;;AAAA,QAAxCC,QAAwC,uEAA7B,UAAAC,EAAE;AAAA,aAAIA,EAAJ;AAAA,KAA2B;AAAA,QAAnBC,MAAmB,uEAAV,YAAM,CAAE,CAAE;;AAAA;;AACrE,SAAKL,GAAL,GAAWA,GAAX;AACA,SAAKG,QAAL,GAAgBA,QAAhB;;AACA,SAAKG,OAAL,GAAe,YAAM,CAAE,CAAvB;;AACA,SAAKC,EAAL,GAAUX,CAAC,CAAC,KAAD,YAAWE,SAAX,kBAAX;AACA,SAAKU,OAAL,GAAe,IAAIX,OAAJ,CAAYI,KAAK,CAACQ,GAAN,CAAU,UAAAL,EAAE;AAAA,aAAK;AAAEJ,QAAAA,GAAG,EAAEI,EAAP;AAAWM,QAAAA,KAAK,EAAE,KAAI,CAACP,QAAL,CAAcC,EAAd;AAAlB,OAAL;AAAA,KAAZ,CAAZ,EAAsE,UAACA,EAAD,EAAQ;AAC3F,MAAA,KAAI,CAACO,SAAL,CAAeP,EAAE,CAACJ,GAAlB;;AACAK,MAAAA,MAAM,CAACD,EAAE,CAACJ,GAAJ,CAAN;;AACA,MAAA,KAAI,CAACM,OAAL,CAAaF,EAAE,CAACJ,GAAhB;AACD,KAJc,EAIZE,KAJY,EAIL,KAAKK,EAJA,CAAf;AAKA,SAAKA,EAAL,CAAQK,QAAR,CACE,KAAKC,MAAL,GAAcjB,CAAC,CAAC,KAAD,EAAQ,YAAR,CAAD,CAAuBkB,IAAvB,CAA4B,KAAKX,QAAL,CAAcH,GAAd,CAA5B,CADhB,EAEE,KAAKQ,OAAL,CAAaD,EAFf,EAGEQ,EAHF,CAGK,OAHL,EAGc;AAAA,aAAM,KAAI,CAACC,IAAL,EAAN;AAAA,KAHd;AAID;;;;WAED,gBAAO;AACL,WAAKR,OAAL,CAAaS,MAAb,CAAoB,EAApB;AACD;;;WAED,mBAAUb,EAAV,EAAc;AACZ,WAAKJ,GAAL,GAAWI,EAAX;AACA,WAAKS,MAAL,CAAYC,IAAZ,CAAiB,KAAKX,QAAL,CAAcC,EAAd,CAAjB;AACD;;;WAED,aAAIc,CAAJ,EAAO;AACL,UAAIA,CAAC,KAAKC,SAAV,EAAqB;AACnB,aAAKnB,GAAL,GAAWkB,CAAX;AACA,aAAKL,MAAL,CAAYC,IAAZ,CAAiB,KAAKX,QAAL,CAAce,CAAd,CAAjB;AACA,eAAO,IAAP;AACD;;AACD,aAAO,KAAKlB,GAAZ;AACD;;;;;;SAjCkBD,U","sourcesContent":["import { h } from './element';\r\nimport Suggest from './suggest';\r\nimport { cssPrefix } from '../config';\r\n\r\nexport default class FormSelect {\r\n  constructor(key, items, width, getTitle = it => it, change = () => {}) {\r\n    this.key = key;\r\n    this.getTitle = getTitle;\r\n    this.vchange = () => {};\r\n    this.el = h('div', `${cssPrefix}-form-select`);\r\n    this.suggest = new Suggest(items.map(it => ({ key: it, title: this.getTitle(it) })), (it) => {\r\n      this.itemClick(it.key);\r\n      change(it.key);\r\n      this.vchange(it.key);\r\n    }, width, this.el);\r\n    this.el.children(\r\n      this.itemEl = h('div', 'input-text').html(this.getTitle(key)),\r\n      this.suggest.el,\r\n    ).on('click', () => this.show());\r\n  }\r\n\r\n  show() {\r\n    this.suggest.search('');\r\n  }\r\n\r\n  itemClick(it) {\r\n    this.key = it;\r\n    this.itemEl.html(this.getTitle(it));\r\n  }\r\n\r\n  val(v) {\r\n    if (v !== undefined) {\r\n      this.key = v;\r\n      this.itemEl.html(this.getTitle(v));\r\n      return this;\r\n    }\r\n    return this.key;\r\n  }\r\n}\r\n"]}]}